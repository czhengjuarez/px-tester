{
  "version": 3,
  "sources": ["../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+utils@0.1.2_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/utils/esm/useAnimationFrame.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/components/FloatingTree.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/utils/createEventEmitter.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/components/FloatingDelayGroup.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useHover.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/utils/createAttribute.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/components/FloatingFocusManager.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/utils/FocusGuard.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/utils/enqueueFocus.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/utils/markOthers.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/components/FloatingPortal.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useClick.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useClientPoint.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useDismiss.js", "../../../../../CF/kumo/node_modules/.pnpm/@floating-ui+core@1.7.3/node_modules/@floating-ui/core/dist/floating-ui.core.mjs", "../../../../../CF/kumo/node_modules/.pnpm/@floating-ui+dom@1.7.4/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs", "../../../../../CF/kumo/node_modules/.pnpm/@floating-ui+react-dom@2.1.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useFloating.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useFloatingRootContext.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useFocus.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useInteractions.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useListNavigation.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useRole.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/hooks/useTypeahead.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/floating-ui-react/safePolygon.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/utils/useAnimationsFinished.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/utils/stateAttributesMapping.js", "../../../../../CF/kumo/node_modules/.pnpm/@base-ui-components+react@1.0.0-beta.4_@types+react@18.3.26_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@base-ui-components/react/esm/utils/useOpenChangeComplete.js"],
  "sourcesContent": ["'use client';\n\nimport { useRefWithInit } from \"./useRefWithInit.js\";\nimport { useOnMount } from \"./useOnMount.js\";\n/** Unlike `setTimeout`, rAF doesn't guarantee a positive integer return value, so we can't have\n * a monomorphic `uint` type with `0` meaning empty.\n * See warning note at:\n * https://developer.mozilla.org/en-US/docs/Web/API/Window/requestAnimationFrame#return_value */\nconst EMPTY = null;\nlet LAST_RAF = globalThis.requestAnimationFrame;\nclass Scheduler {\n  /* This implementation uses an array as a backing data-structure for frame callbacks.\n   * It allows `O(1)` callback cancelling by inserting a `null` in the array, though it\n   * never calls the native `cancelAnimationFrame` if there are no frames left. This can\n   * be much more efficient if there is a call pattern that alterns as\n   * \"request-cancel-request-cancel-…\".\n   * But in the case of \"request-request-…-cancel-cancel-…\", it leaves the final animation\n   * frame to run anyway. We turn that frame into a `O(1)` no-op via `callbacksCount`. */\n\n  callbacks = (() => [])();\n  callbacksCount = 0;\n  nextId = 1;\n  startId = 1;\n  isScheduled = false;\n  tick = timestamp => {\n    this.isScheduled = false;\n    const currentCallbacks = this.callbacks;\n    const currentCallbacksCount = this.callbacksCount;\n\n    // Update these before iterating, callbacks could call `requestAnimationFrame` again.\n    this.callbacks = [];\n    this.callbacksCount = 0;\n    this.startId = this.nextId;\n    if (currentCallbacksCount > 0) {\n      for (let i = 0; i < currentCallbacks.length; i += 1) {\n        currentCallbacks[i]?.(timestamp);\n      }\n    }\n  };\n  request(fn) {\n    const id = this.nextId;\n    this.nextId += 1;\n    this.callbacks.push(fn);\n    this.callbacksCount += 1;\n\n    /* In a test environment with fake timers, a fake `requestAnimationFrame` can be called\n     * but there's no guarantee that the animation frame will actually run before the fake\n     * timers are teared, which leaves `isScheduled` set, but won't run our `tick()`. */\n    const didRAFChange = process.env.NODE_ENV === 'test' && LAST_RAF !== requestAnimationFrame && (LAST_RAF = requestAnimationFrame, true);\n    if (!this.isScheduled || didRAFChange) {\n      requestAnimationFrame(this.tick);\n      this.isScheduled = true;\n    }\n    return id;\n  }\n  cancel(id) {\n    const index = id - this.startId;\n    if (index < 0 || index >= this.callbacks.length) {\n      return;\n    }\n    this.callbacks[index] = null;\n    this.callbacksCount -= 1;\n  }\n}\nconst scheduler = new Scheduler();\nexport class AnimationFrame {\n  static create() {\n    return new AnimationFrame();\n  }\n  static request(fn) {\n    return scheduler.request(fn);\n  }\n  static cancel(id) {\n    return scheduler.cancel(id);\n  }\n  currentId = (() => EMPTY)();\n\n  /**\n   * Executes `fn` after `delay`, clearing any previously scheduled call.\n   */\n  request(fn) {\n    this.cancel();\n    this.currentId = scheduler.request(() => {\n      this.currentId = EMPTY;\n      fn();\n    });\n  }\n  cancel = () => {\n    if (this.currentId !== EMPTY) {\n      scheduler.cancel(this.currentId);\n      this.currentId = EMPTY;\n    }\n  };\n  disposeEffect = () => {\n    return this.cancel;\n  };\n}\n\n/**\n * A `requestAnimationFrame` with automatic cleanup and guard.\n */\nexport function useAnimationFrame() {\n  const timeout = useRefWithInit(AnimationFrame.create).current;\n  useOnMount(timeout.disposeEffect);\n  return timeout;\n}", "import * as React from 'react';\nimport { useId } from '@base-ui-components/utils/useId';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { createEventEmitter } from \"../utils/createEventEmitter.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") FloatingNodeContext.displayName = \"FloatingNodeContext\";\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nif (process.env.NODE_ENV !== \"production\") FloatingTreeContext.displayName = \"FloatingTreeContext\";\nexport const useFloatingParentNodeId = () => React.useContext(FloatingNodeContext)?.id || null;\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nexport const useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nexport function useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  useIsoLayoutEffect(() => {\n    if (!id) {\n      return undefined;\n    }\n    const node = {\n      id,\n      parentId\n    };\n    tree?.addNode(node);\n    return () => {\n      tree?.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n * @internal\n */\nexport function FloatingNode(props) {\n  const {\n    children,\n    id\n  } = props;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/_jsx(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId]),\n    children: children\n  });\n}\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n * @internal\n */\nexport function FloatingTree(props) {\n  const {\n    children\n  } = props;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const [events] = React.useState(() => createEventEmitter());\n  return /*#__PURE__*/_jsx(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events]),\n    children: children\n  });\n}", "export function createEventEmitter() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      map.get(event)?.forEach(listener => listener(data));\n    },\n    on(event, listener) {\n      if (!map.has(event)) {\n        map.set(event, new Set());\n      }\n      map.get(event).add(listener);\n    },\n    off(event, listener) {\n      map.get(event)?.delete(listener);\n    }\n  };\n}", "import * as React from 'react';\nimport { useTimeout, Timeout } from '@base-ui-components/utils/useTimeout';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { getDelay } from \"../hooks/useHover.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  hasProvider: false,\n  timeoutMs: 0,\n  delayRef: {\n    current: 0\n  },\n  initialDelayRef: {\n    current: 0\n  },\n  timeout: new Timeout(),\n  currentIdRef: {\n    current: null\n  },\n  currentContextRef: {\n    current: null\n  }\n});\nif (process.env.NODE_ENV !== \"production\") FloatingDelayGroupContext.displayName = \"FloatingDelayGroupContext\";\n/**\n * Experimental next version of `FloatingDelayGroup` to become the default\n * in the future. This component is not yet stable.\n * Provides context for a group of floating elements that should share a\n * `delay`. Unlike `FloatingDelayGroup`, `useDelayGroup` with this\n * component does not cause a re-render of unrelated consumers of the\n * context when the delay changes.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n * @internal\n */\nexport function FloatingDelayGroup(props) {\n  const {\n    children,\n    delay,\n    timeoutMs = 0\n  } = props;\n  const delayRef = React.useRef(delay);\n  const initialDelayRef = React.useRef(delay);\n  const currentIdRef = React.useRef(null);\n  const currentContextRef = React.useRef(null);\n  const timeout = useTimeout();\n  return /*#__PURE__*/_jsx(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      hasProvider: true,\n      delayRef,\n      initialDelayRef,\n      currentIdRef,\n      timeoutMs,\n      currentContextRef,\n      timeout\n    }), [timeoutMs, timeout]),\n    children: children\n  });\n}\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n * @internal\n */\nexport function useDelayGroup(context, options = {}) {\n  const {\n    open,\n    onOpenChange,\n    floatingId\n  } = context;\n  const {\n    enabled = true\n  } = options;\n  const groupContext = React.useContext(FloatingDelayGroupContext);\n  const {\n    currentIdRef,\n    delayRef,\n    timeoutMs,\n    initialDelayRef,\n    currentContextRef,\n    hasProvider,\n    timeout\n  } = groupContext;\n  const [isInstantPhase, setIsInstantPhase] = React.useState(false);\n  useIsoLayoutEffect(() => {\n    function unset() {\n      setIsInstantPhase(false);\n      currentContextRef.current?.setIsInstantPhase(false);\n      currentIdRef.current = null;\n      currentContextRef.current = null;\n      delayRef.current = initialDelayRef.current;\n    }\n    if (!enabled) {\n      return undefined;\n    }\n    if (!currentIdRef.current) {\n      return undefined;\n    }\n    if (!open && currentIdRef.current === floatingId) {\n      setIsInstantPhase(false);\n      if (timeoutMs) {\n        timeout.start(timeoutMs, unset);\n        return () => {\n          timeout.clear();\n        };\n      }\n      unset();\n    }\n    return undefined;\n  }, [enabled, open, floatingId, currentIdRef, delayRef, timeoutMs, initialDelayRef, currentContextRef, timeout]);\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    if (!open) {\n      return;\n    }\n    const prevContext = currentContextRef.current;\n    const prevId = currentIdRef.current;\n    currentContextRef.current = {\n      onOpenChange,\n      setIsInstantPhase\n    };\n    currentIdRef.current = floatingId;\n    delayRef.current = {\n      open: 0,\n      close: getDelay(initialDelayRef.current, 'close')\n    };\n    if (prevId !== null && prevId !== floatingId) {\n      timeout.clear();\n      setIsInstantPhase(true);\n      prevContext?.setIsInstantPhase(true);\n      prevContext?.onOpenChange(false, createChangeEventDetails('none'));\n    } else {\n      setIsInstantPhase(false);\n      prevContext?.setIsInstantPhase(false);\n    }\n  }, [enabled, open, floatingId, onOpenChange, currentIdRef, delayRef, timeoutMs, initialDelayRef, currentContextRef, timeout]);\n  useIsoLayoutEffect(() => {\n    return () => {\n      currentContextRef.current = null;\n    };\n  }, [currentContextRef]);\n  return React.useMemo(() => ({\n    hasProvider,\n    delayRef,\n    isInstantPhase\n  }), [hasProvider, delayRef, isInstantPhase]);\n}", "import * as React from 'react';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useTimeout } from '@base-ui-components/utils/useTimeout';\nimport { useLatestRef } from '@base-ui-components/utils/useLatestRef';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { contains, getDocument, isMouseLikePointerType } from \"../utils.js\";\nimport { useFloatingParentNodeId, useFloatingTree } from \"../components/FloatingTree.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nconst safePolygonIdentifier = createAttribute('safe-polygon');\nexport function getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  if (typeof value === 'function') {\n    const result = value();\n    if (typeof result === 'number') {\n      return result;\n    }\n    return result?.[prop];\n  }\n  return value?.[prop];\n}\nfunction getRestMs(value) {\n  if (typeof value === 'function') {\n    return value();\n  }\n  return value;\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nexport function useHover(context, props = {}) {\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const openRef = useLatestRef(open);\n  const restMsRef = useLatestRef(restMs);\n  const pointerTypeRef = React.useRef(undefined);\n  const timeout = useTimeout();\n  const handlerRef = React.useRef(undefined);\n  const restTimeout = useTimeout();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const restTimeoutPendingRef = React.useRef(false);\n  const isHoverOpen = useEventCallback(() => {\n    const type = dataRef.current.openEvent?.type;\n    return type?.includes('mouse') && type !== 'mousedown';\n  });\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    function onOpenChangeLocal(details) {\n      if (!details.open) {\n        timeout.clear();\n        restTimeout.clear();\n        blockMouseMoveRef.current = true;\n        restTimeoutPendingRef.current = false;\n      }\n    }\n    events.on('openchange', onOpenChangeLocal);\n    return () => {\n      events.off('openchange', onOpenChangeLocal);\n    };\n  }, [enabled, events, timeout, restTimeout]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    if (!handleCloseRef.current) {\n      return undefined;\n    }\n    if (!open) {\n      return undefined;\n    }\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, createChangeEventDetails('trigger-hover', event));\n      }\n    }\n    const html = getDocument(elements.floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [elements.floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback((event, runElseBranch = true) => {\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      timeout.start(closeDelay, () => onOpenChange(false, createChangeEventDetails('trigger-hover', event)));\n    } else if (runElseBranch) {\n      timeout.clear();\n      onOpenChange(false, createChangeEventDetails('trigger-hover', event));\n    }\n  }, [delayRef, onOpenChange, timeout]);\n  const cleanupMouseMoveHandler = useEventCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  });\n  const clearPointerEvents = useEventCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(elements.floating).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  });\n  const isClickLikeOpenEvent = useEventCallback(() => {\n    return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n  });\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    function onReferenceMouseEnter(event) {\n      timeout.clear();\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || getRestMs(restMsRef.current) > 0 && !getDelay(delayRef.current, 'open')) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeout.start(openDelay, () => {\n          if (!openRef.current) {\n            onOpenChange(true, createChangeEventDetails('trigger-hover', event));\n          }\n        });\n      } else if (!open) {\n        onOpenChange(true, createChangeEventDetails('trigger-hover', event));\n      }\n    }\n    function onReferenceMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        clearPointerEvents();\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(elements.floating);\n      restTimeout.clear();\n      restTimeoutPendingRef.current = false;\n      if (handleCloseRef.current && dataRef.current.floatingContext) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          timeout.clear();\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...dataRef.current.floatingContext,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            if (!isClickLikeOpenEvent()) {\n              closeWithDelay(event, true);\n            }\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(elements.floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      if (!dataRef.current.floatingContext) {\n        return;\n      }\n      handleCloseRef.current?.({\n        ...dataRef.current.floatingContext,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          if (!isClickLikeOpenEvent()) {\n            closeWithDelay(event);\n          }\n        }\n      })(event);\n    }\n    function onFloatingMouseEnter() {\n      timeout.clear();\n    }\n    function onFloatingMouseLeave(event) {\n      if (!isClickLikeOpenEvent()) {\n        closeWithDelay(event, false);\n      }\n    }\n    if (isElement(elements.domReference)) {\n      const reference = elements.domReference;\n      const floating = elements.floating;\n      if (open) {\n        reference.addEventListener('mouseleave', onScrollMouseLeave);\n      }\n      if (move) {\n        reference.addEventListener('mousemove', onReferenceMouseEnter, {\n          once: true\n        });\n      }\n      reference.addEventListener('mouseenter', onReferenceMouseEnter);\n      reference.addEventListener('mouseleave', onReferenceMouseLeave);\n      if (floating) {\n        floating.addEventListener('mouseleave', onScrollMouseLeave);\n        floating.addEventListener('mouseenter', onFloatingMouseEnter);\n        floating.addEventListener('mouseleave', onFloatingMouseLeave);\n      }\n      return () => {\n        if (open) {\n          reference.removeEventListener('mouseleave', onScrollMouseLeave);\n        }\n        if (move) {\n          reference.removeEventListener('mousemove', onReferenceMouseEnter);\n        }\n        reference.removeEventListener('mouseenter', onReferenceMouseEnter);\n        reference.removeEventListener('mouseleave', onReferenceMouseLeave);\n        if (floating) {\n          floating.removeEventListener('mouseleave', onScrollMouseLeave);\n          floating.removeEventListener('mouseenter', onFloatingMouseEnter);\n          floating.removeEventListener('mouseleave', onFloatingMouseLeave);\n        }\n      };\n    }\n    return undefined;\n  }, [elements, enabled, context, mouseOnly, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, openRef, tree, delayRef, handleCloseRef, dataRef, isClickLikeOpenEvent, restMsRef, timeout, restTimeout]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    if (open && handleCloseRef.current?.__options?.blockPointerEvents && isHoverOpen()) {\n      performedPointerEventsMutationRef.current = true;\n      const floatingEl = elements.floating;\n      if (isElement(elements.domReference) && floatingEl) {\n        const body = getDocument(elements.floating).body;\n        body.setAttribute(safePolygonIdentifier, '');\n        const ref = elements.domReference;\n        const parentFloating = tree?.nodesRef.current.find(node => node.id === parentId)?.context?.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        body.style.pointerEvents = 'none';\n        ref.style.pointerEvents = 'auto';\n        floatingEl.style.pointerEvents = 'auto';\n        return () => {\n          body.style.pointerEvents = '';\n          ref.style.pointerEvents = '';\n          floatingEl.style.pointerEvents = '';\n        };\n      }\n    }\n    return undefined;\n  }, [enabled, open, parentId, elements, tree, handleCloseRef, isHoverOpen]);\n  useIsoLayoutEffect(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      restTimeoutPendingRef.current = false;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      timeout.clear();\n      restTimeout.clear();\n    };\n  }, [enabled, elements.domReference, cleanupMouseMoveHandler, timeout, restTimeout]);\n  React.useEffect(() => {\n    return clearPointerEvents;\n  }, [clearPointerEvents]);\n  const reference = React.useMemo(() => {\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      onPointerDown: setPointerRef,\n      onPointerEnter: setPointerRef,\n      onMouseMove(event) {\n        const {\n          nativeEvent\n        } = event;\n        function handleMouseMove() {\n          if (!blockMouseMoveRef.current && !openRef.current) {\n            onOpenChange(true, createChangeEventDetails('trigger-hover', nativeEvent));\n          }\n        }\n        if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current)) {\n          return;\n        }\n        if (open || getRestMs(restMsRef.current) === 0) {\n          return;\n        }\n\n        // Ignore insignificant movements to account for tremors.\n        if (restTimeoutPendingRef.current && event.movementX ** 2 + event.movementY ** 2 < 2) {\n          return;\n        }\n        restTimeout.clear();\n        if (pointerTypeRef.current === 'touch') {\n          handleMouseMove();\n        } else {\n          restTimeoutPendingRef.current = true;\n          restTimeout.start(getRestMs(restMsRef.current), handleMouseMove);\n        }\n      }\n    };\n  }, [mouseOnly, onOpenChange, open, openRef, restMsRef, restTimeout]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : {}, [enabled, reference]);\n}", "export function createAttribute(name) {\n  return `data-base-ui-${name}`;\n}", "import * as React from 'react';\nimport { tabbable, isTabbable, focusable } from 'tabbable';\nimport { getNodeName, isHTMLElement } from '@floating-ui/utils/dom';\nimport { useMergedRefs } from '@base-ui-components/utils/useMergedRefs';\nimport { useLatestRef } from '@base-ui-components/utils/useLatestRef';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { visuallyHidden } from '@base-ui-components/utils/visuallyHidden';\nimport { useTimeout } from '@base-ui-components/utils/useTimeout';\nimport { useAnimationFrame } from '@base-ui-components/utils/useAnimationFrame';\nimport { ownerWindow } from '@base-ui-components/utils/owner';\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { activeElement, contains, getDocument, getTarget, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, stopEvent, getNodeAncestors, getNodeChildren, getFloatingFocusElement, getTabbableOptions, isOutsideEvent, getNextTabbable, getPreviousTabbable } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nimport { enqueueFocus } from \"../utils/enqueueFocus.js\";\nimport { markOthers } from \"../utils/markOthers.js\";\nimport { usePortalContext } from \"./FloatingPortal.js\";\nimport { useFloatingTree } from \"./FloatingTree.js\";\nimport { CLICK_TRIGGER_IDENTIFIER } from \"../../utils/constants.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction getEventType(event, lastInteractionType) {\n  const win = ownerWindow(event.target);\n  if (event instanceof win.KeyboardEvent) {\n    return 'keyboard';\n  }\n  if (event instanceof win.FocusEvent) {\n    // Focus events can be caused by a preceding pointer interaction (e.g., focusout on outside press).\n    // Prefer the last known pointer type if provided, else treat as keyboard.\n    return lastInteractionType || 'keyboard';\n  }\n  if ('pointerType' in event) {\n    return event.pointerType || 'keyboard';\n  }\n  if ('touches' in event) {\n    return 'touch';\n  }\n  if (event instanceof win.MouseEvent) {\n    // onClick events may not contain pointer events, and will fall through to here\n    return lastInteractionType || (event.detail === 0 ? 'keyboard' : 'mouse');\n  }\n  return '';\n}\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction clearDisconnectedPreviouslyFocusedElements() {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n}\nfunction addPreviouslyFocusedElement(element) {\n  clearDisconnectedPreviouslyFocusedElements();\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  clearDisconnectedPreviouslyFocusedElements();\n  return previouslyFocusedElements[previouslyFocusedElements.length - 1];\n}\nfunction getFirstTabbableElement(container) {\n  if (!container) {\n    return null;\n  }\n  const tabbableOptions = getTabbableOptions();\n  if (isTabbable(container, tabbableOptions)) {\n    return container;\n  }\n  return tabbable(container, tabbableOptions)[0] || container;\n}\nfunction handleTabIndex(floatingFocusElement, orderRef) {\n  if (!orderRef.current.includes('floating') && !floatingFocusElement.getAttribute('role')?.includes('dialog')) {\n    return;\n  }\n  const options = getTabbableOptions();\n  const focusableElements = focusable(floatingFocusElement, options);\n  const tabbableContent = focusableElements.filter(element => {\n    const dataTabIndex = element.getAttribute('data-tabindex') || '';\n    return isTabbable(element, options) || element.hasAttribute('data-tabindex') && !dataTabIndex.startsWith('-');\n  });\n  const tabIndex = floatingFocusElement.getAttribute('tabindex');\n  if (orderRef.current.includes('floating') || tabbableContent.length === 0) {\n    if (tabIndex !== '0') {\n      floatingFocusElement.setAttribute('tabindex', '0');\n    }\n  } else if (tabIndex !== '-1' || floatingFocusElement.hasAttribute('data-tabindex') && floatingFocusElement.getAttribute('data-tabindex') !== '-1') {\n    floatingFocusElement.setAttribute('tabindex', '-1');\n    floatingFocusElement.setAttribute('data-tabindex', '-1');\n  }\n}\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n * @internal\n */\nexport function FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    initialFocus = true,\n    returnFocus = true,\n    restoreFocus = false,\n    modal = true,\n    closeOnFocusOut = true,\n    openInteractionType = '',\n    getInsideElements: getInsideElementsProp = () => []\n  } = props;\n  const {\n    open,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const getNodeId = useEventCallback(() => dataRef.current.floatingContext?.nodeId);\n  const getInsideElements = useEventCallback(getInsideElementsProp);\n  const ignoreInitialFocus = initialFocus === false;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const openInteractionTypeRef = useLatestRef(openInteractionType);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const tabbableIndexRef = React.useRef(-1);\n  const closeTypeRef = React.useRef('');\n  const lastInteractionTypeRef = React.useRef('');\n  const blurTimeout = useTimeout();\n  const pointerDownTimeout = useTimeout();\n  const restoreFocusFrame = useAnimationFrame();\n  const isInsidePortal = portalContext != null;\n  const floatingFocusElement = getFloatingFocusElement(floating);\n  const getTabbableContent = useEventCallback((container = floatingFocusElement) => {\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  });\n  const getTabbableElements = useEventCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(() => content).filter(Boolean).flat();\n  });\n  React.useEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!modal) {\n      return undefined;\n    }\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floatingFocusElement, activeElement(getDocument(floatingFocusElement))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n      }\n    }\n    const doc = getDocument(floatingFocusElement);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floatingFocusElement, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!floating) {\n      return undefined;\n    }\n    function handleFocusIn(event) {\n      const target = getTarget(event);\n      const tabbableContent = getTabbableContent();\n      const tabbableIndex = tabbableContent.indexOf(target);\n      if (tabbableIndex !== -1) {\n        tabbableIndexRef.current = tabbableIndex;\n      }\n    }\n    floating.addEventListener('focusin', handleFocusIn);\n    return () => {\n      floating.removeEventListener('focusin', handleFocusIn);\n    };\n  }, [disabled, floating, getTabbableContent]);\n\n  // Track the last interaction type at the document level to disambiguate focus events\n  React.useEffect(() => {\n    if (disabled || !open) {\n      return undefined;\n    }\n    const doc = getDocument(floatingFocusElement);\n    function onPointerDown(event) {\n      lastInteractionTypeRef.current = event.pointerType || 'keyboard';\n    }\n    function onKeyDown() {\n      lastInteractionTypeRef.current = 'keyboard';\n    }\n    doc.addEventListener('pointerdown', onPointerDown, true);\n    doc.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      doc.removeEventListener('pointerdown', onPointerDown, true);\n      doc.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [disabled, floating, domReference, floatingFocusElement, open]);\n  React.useEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!closeOnFocusOut) {\n      return undefined;\n    }\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      pointerDownTimeout.start(0, () => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      const currentTarget = event.currentTarget;\n      const target = getTarget(event);\n      queueMicrotask(() => {\n        const nodeId = getNodeId();\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext?.portalNode, relatedTarget) || relatedTarget?.hasAttribute(createAttribute('focus-guard')) || tree && (getNodeChildren(tree.nodesRef.current, nodeId).find(node => contains(node.context?.elements.floating, relatedTarget) || contains(node.context?.elements.domReference, relatedTarget)) || getNodeAncestors(tree.nodesRef.current, nodeId).find(node => [node.context?.elements.floating, getFloatingFocusElement(node.context?.elements.floating)].includes(relatedTarget) || node.context?.elements.domReference === relatedTarget)));\n        if (currentTarget === domReference && floatingFocusElement) {\n          handleTabIndex(floatingFocusElement, orderRef);\n        }\n\n        // Restore focus to the previous tabbable element index to prevent\n        // focus from being lost outside the floating tree.\n        if (restoreFocus && currentTarget !== domReference && !target?.isConnected && activeElement(getDocument(floatingFocusElement)) === getDocument(floatingFocusElement).body) {\n          // Let `FloatingPortal` effect knows that focus is still inside the\n          // floating tree.\n          if (isHTMLElement(floatingFocusElement)) {\n            floatingFocusElement.focus();\n            // If explicitly requested to restore focus to the popup container, do not search\n            // for the next/previous tabbable element.\n            if (restoreFocus === 'popup') {\n              // If the element is removed on pointerdown, focus tries to move it,\n              // but since it's removed at the same time, focus gets lost as it\n              // happens after the .focus() call above.\n              // In this case, focus needs to be moved asynchronously.\n              restoreFocusFrame.request(() => {\n                floatingFocusElement.focus();\n              });\n              return;\n            }\n          }\n          const prevTabbableIndex = tabbableIndexRef.current;\n          const tabbableContent = getTabbableContent();\n          const nodeToFocus = tabbableContent[prevTabbableIndex] || tabbableContent[tabbableContent.length - 1] || floatingFocusElement;\n          if (isHTMLElement(nodeToFocus)) {\n            nodeToFocus.focus();\n          }\n        }\n\n        // https://github.com/floating-ui/floating-ui/issues/3060\n        if (dataRef.current.insideReactTree) {\n          dataRef.current.insideReactTree = false;\n          return;\n        }\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if ((isUntrappedTypeableCombobox ? true : !modal) && relatedTarget && movedToUnrelatedNode && (\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        // For an \"untrapped\" typeable combobox (input role=combobox with\n        // initialFocus=false), re-opening the popup and tabbing out should still close it even\n        // when the previously focused element (e.g. the next tabbable outside the popup) is\n        // focused again. Otherwise, the popup remains open on the second Tab sequence:\n        // click input -> Tab (closes) -> click input -> Tab.\n        // Allow closing when `isUntrappedTypeableCombobox` regardless of the previously focused element.\n        isUntrappedTypeableCombobox || relatedTarget !== getPreviouslyFocusedElement())) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, createChangeEventDetails('focus-out', event));\n        }\n      });\n    }\n    function markInsideReactTree() {\n      dataRef.current.insideReactTree = true;\n      blurTimeout.start(0, () => {\n        dataRef.current.insideReactTree = false;\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      floating.addEventListener('focusout', handleFocusOutside);\n      if (portalContext) {\n        floating.addEventListener('focusout', markInsideReactTree, true);\n      }\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        floating.removeEventListener('focusout', handleFocusOutside);\n        if (portalContext) {\n          floating.removeEventListener('focusout', markInsideReactTree, true);\n        }\n      };\n    }\n    return undefined;\n  }, [disabled, domReference, floating, floatingFocusElement, modal, tree, portalContext, onOpenChange, closeOnFocusOut, restoreFocus, getTabbableContent, isUntrappedTypeableCombobox, getNodeId, orderRef, dataRef, blurTimeout, pointerDownTimeout, restoreFocusFrame]);\n  const beforeGuardRef = React.useRef(null);\n  const afterGuardRef = React.useRef(null);\n  const mergedBeforeGuardRef = useMergedRefs(beforeGuardRef, portalContext?.beforeInsideRef);\n  const mergedAfterGuardRef = useMergedRefs(afterGuardRef, portalContext?.afterInsideRef);\n  React.useEffect(() => {\n    if (disabled || !floating || !open) {\n      return undefined;\n    }\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from(portalContext?.portalNode?.querySelectorAll(`[${createAttribute('portal')}]`) || []);\n    const ancestors = tree ? getNodeAncestors(tree.nodesRef.current, getNodeId()) : [];\n    const rootAncestorComboboxDomReference = ancestors.find(node => isTypeableCombobox(node.context?.elements.domReference || null))?.context?.elements.domReference;\n    const insideElements = [floating, rootAncestorComboboxDomReference, ...portalNodes, ...getInsideElements(), startDismissButtonRef.current, endDismissButtonRef.current, beforeGuardRef.current, afterGuardRef.current, portalContext?.beforeOutsideRef.current, portalContext?.afterOutsideRef.current, isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n    const cleanup = markOthers(insideElements, modal || isUntrappedTypeableCombobox);\n    return () => {\n      cleanup();\n    };\n  }, [open, disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, tree, getNodeId, getInsideElements]);\n  useIsoLayoutEffect(() => {\n    if (disabled || !isHTMLElement(floatingFocusElement)) {\n      return;\n    }\n    const doc = getDocument(floatingFocusElement);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floatingFocusElement);\n      const initialFocusValueOrFn = initialFocusRef.current;\n      const resolvedInitialFocus = typeof initialFocusValueOrFn === 'function' ? initialFocusValueOrFn(openInteractionTypeRef.current || '') : initialFocusValueOrFn;\n\n      // `null` should fallback to default behavior in case of an empty ref.\n      if (resolvedInitialFocus === undefined || resolvedInitialFocus === false) {\n        return;\n      }\n      let elToFocus;\n      if (resolvedInitialFocus === true || resolvedInitialFocus === null) {\n        elToFocus = focusableElements[0] || floatingFocusElement;\n      } else if ('current' in resolvedInitialFocus) {\n        elToFocus = resolvedInitialFocus.current;\n      } else {\n        elToFocus = resolvedInitialFocus;\n      }\n      elToFocus = elToFocus || focusableElements[0] || floatingFocusElement;\n      const focusAlreadyInsideFloatingEl = contains(floatingFocusElement, previouslyFocusedElement);\n      if (!focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floatingFocusElement\n        });\n      }\n    });\n  }, [disabled, open, floatingFocusElement, ignoreInitialFocus, getTabbableElements, initialFocusRef, openInteractionTypeRef]);\n  useIsoLayoutEffect(() => {\n    if (disabled || !floatingFocusElement) {\n      return undefined;\n    }\n    const doc = getDocument(floatingFocusElement);\n    const previouslyFocusedElement = activeElement(doc);\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChangeLocal(details) {\n      if (!details.open) {\n        closeTypeRef.current = getEventType(details.nativeEvent, lastInteractionTypeRef.current);\n      }\n      if (details.reason === 'trigger-hover' && details.nativeEvent.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (details.reason !== 'outside-press') {\n        return;\n      }\n      if (details.nested) {\n        preventReturnFocusRef.current = false;\n      } else if (isVirtualClick(details.nativeEvent) || isVirtualPointerEvent(details.nativeEvent)) {\n        preventReturnFocusRef.current = false;\n      } else {\n        let isPreventScrollSupported = false;\n        document.createElement('div').focus({\n          get preventScroll() {\n            isPreventScrollSupported = true;\n            return false;\n          }\n        });\n        if (isPreventScrollSupported) {\n          preventReturnFocusRef.current = false;\n        } else {\n          preventReturnFocusRef.current = true;\n        }\n      }\n    }\n    events.on('openchange', onOpenChangeLocal);\n    const fallbackEl = doc.createElement('span');\n    fallbackEl.setAttribute('tabindex', '-1');\n    fallbackEl.setAttribute('aria-hidden', 'true');\n    Object.assign(fallbackEl.style, visuallyHidden);\n    if (isInsidePortal && domReference) {\n      domReference.insertAdjacentElement('afterend', fallbackEl);\n    }\n    function getReturnElement() {\n      const returnFocusValueOrFn = returnFocusRef.current;\n      let resolvedReturnFocusValue = typeof returnFocusValueOrFn === 'function' ? returnFocusValueOrFn(closeTypeRef.current) : returnFocusValueOrFn;\n\n      // `null` should fallback to default behavior in case of an empty ref.\n      if (resolvedReturnFocusValue === undefined || resolvedReturnFocusValue === false) {\n        return null;\n      }\n      if (resolvedReturnFocusValue === null) {\n        resolvedReturnFocusValue = true;\n      }\n      if (typeof resolvedReturnFocusValue === 'boolean') {\n        const el = domReference || getPreviouslyFocusedElement();\n        return el && el.isConnected ? el : fallbackEl;\n      }\n      const fallback = domReference || getPreviouslyFocusedElement() || fallbackEl;\n      if ('current' in resolvedReturnFocusValue) {\n        return resolvedReturnFocusValue.current || fallback;\n      }\n      return resolvedReturnFocusValue || fallback;\n    }\n    return () => {\n      events.off('openchange', onOpenChangeLocal);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getNodeChildren(tree.nodesRef.current, getNodeId(), false).some(node => contains(node.context?.elements.floating, activeEl));\n      const returnElement = getReturnElement();\n      queueMicrotask(() => {\n        // This is `returnElement`, if it's tabbable, or its first tabbable child.\n        const tabbableReturnElement = getFirstTabbableElement(returnElement);\n        const hasExplicitReturnFocus = typeof returnFocusRef.current !== 'boolean';\n        if (\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(tabbableReturnElement) && (\n        // If the focus moved somewhere else after mount, avoid returning focus\n        // since it likely entered a different element which should be\n        // respected: https://github.com/floating-ui/floating-ui/issues/2607\n        !hasExplicitReturnFocus && tabbableReturnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n          tabbableReturnElement.focus({\n            preventScroll: true\n          });\n        }\n        fallbackEl.remove();\n      });\n    };\n  }, [disabled, floating, floatingFocusElement, returnFocusRef, dataRef, events, tree, isInsidePortal, domReference, getNodeId]);\n  React.useEffect(() => {\n    // The `returnFocus` cleanup behavior is inside a microtask; ensure we\n    // wait for it to complete before resetting the flag.\n    queueMicrotask(() => {\n      preventReturnFocusRef.current = false;\n    });\n  }, [disabled]);\n  React.useEffect(() => {\n    if (disabled || !open) {\n      return undefined;\n    }\n    function handlePointerDown(event) {\n      const target = getTarget(event);\n      if (target?.closest(`[${CLICK_TRIGGER_IDENTIFIER}]`)) {\n        isPointerDownRef.current = true;\n      }\n    }\n    const doc = getDocument(floatingFocusElement);\n    doc.addEventListener('pointerdown', handlePointerDown, true);\n    return () => {\n      doc.removeEventListener('pointerdown', handlePointerDown, true);\n    };\n  }, [disabled, open, floatingFocusElement]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  useIsoLayoutEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!portalContext) {\n      return undefined;\n    }\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      domReference\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, closeOnFocusOut, domReference]);\n  useIsoLayoutEffect(() => {\n    if (disabled || !floatingFocusElement) {\n      return undefined;\n    }\n    handleTabIndex(floatingFocusElement, orderRef);\n    return () => {\n      queueMicrotask(clearDisconnectedPreviouslyFocusedElements);\n    };\n  }, [disabled, floatingFocusElement, orderRef]);\n  const shouldRenderGuards = !disabled && (modal ? !isUntrappedTypeableCombobox : true) && (isInsidePortal || modal);\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [shouldRenderGuards && /*#__PURE__*/_jsx(FocusGuard, {\n      \"data-type\": \"inside\",\n      ref: mergedBeforeGuardRef,\n      onFocus: event => {\n        if (modal) {\n          const els = getTabbableElements();\n          enqueueFocus(els[els.length - 1]);\n        } else if (portalContext?.preserveTabOrder && portalContext.portalNode) {\n          preventReturnFocusRef.current = false;\n          if (isOutsideEvent(event, portalContext.portalNode)) {\n            const nextTabbable = getNextTabbable(domReference);\n            nextTabbable?.focus();\n          } else {\n            portalContext.beforeOutsideRef.current?.focus();\n          }\n        }\n      }\n    }), children, shouldRenderGuards && /*#__PURE__*/_jsx(FocusGuard, {\n      \"data-type\": \"inside\",\n      ref: mergedAfterGuardRef,\n      onFocus: event => {\n        if (modal) {\n          enqueueFocus(getTabbableElements()[0]);\n        } else if (portalContext?.preserveTabOrder && portalContext.portalNode) {\n          if (closeOnFocusOut) {\n            preventReturnFocusRef.current = true;\n          }\n          if (isOutsideEvent(event, portalContext.portalNode)) {\n            const prevTabbable = getPreviousTabbable(domReference);\n            prevTabbable?.focus();\n          } else {\n            portalContext.afterOutsideRef.current?.focus();\n          }\n        }\n      }\n    })]\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { isSafari } from '@base-ui-components/utils/detectBrowser';\nimport { visuallyHidden } from '@base-ui-components/utils/visuallyHidden';\n\n/**\n * @internal\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  useIsoLayoutEffect(() => {\n    if (isSafari) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      setRole('button');\n    }\n  }, []);\n  const restProps = {\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role\n  };\n  return /*#__PURE__*/_jsx(\"span\", {\n    ...props,\n    ref: ref,\n    style: visuallyHidden,\n    \"aria-hidden\": role ? undefined : true,\n    ...restProps,\n    \"data-base-ui-focus-guard\": \"\"\n  });\n});\nif (process.env.NODE_ENV !== \"production\") FocusGuard.displayName = \"FocusGuard\";", "let rafId = 0;\nexport function enqueueFocus(el, options = {}) {\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  if (cancelPrevious) {\n    cancelAnimationFrame(rafId);\n  }\n  const exec = () => el?.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}", "// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nimport { getNodeName } from '@floating-ui/utils/dom';\nimport { getDocument } from \"./element.js\";\nconst counters = {\n  inert: new WeakMap(),\n  'aria-hidden': new WeakMap(),\n  none: new WeakMap()\n};\nfunction getCounterMap(control) {\n  if (control === 'inert') {\n    return counters.inert;\n  }\n  if (control === 'aria-hidden') {\n    return counters['aria-hidden'];\n  }\n  return counters.none;\n}\nlet uncontrolledElementsSet = new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nexport const supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-base-ui-inert';\n  // eslint-disable-next-line no-nested-ternary\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    if (el.parentNode) {\n      keep(el.parentNode);\n    }\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    [].forEach.call(parent.children, node => {\n      if (getNodeName(node) === 'script') {\n        return;\n      }\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterMap = getCounterMap(controlAttribute);\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, controlAttribute === 'inert' ? '' : 'true');\n        }\n      }\n    });\n  }\n  lockCount += 1;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterMap = getCounterMap(controlAttribute);\n      const currentCounterValue = counterMap.get(element) || 0;\n      const counterValue = currentCounterValue - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount -= 1;\n    if (!lockCount) {\n      counters.inert = new WeakMap();\n      counters['aria-hidden'] = new WeakMap();\n      counters.none = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nexport function markOthers(avoidElements, ariaHidden = false, inert = false) {\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}", "import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { isNode } from '@floating-ui/utils/dom';\nimport { useId } from '@base-ui-components/utils/useId';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { visuallyHidden } from '@base-ui-components/utils/visuallyHidden';\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { enableFocusInside, disableFocusInside, getPreviousTabbable, getNextTabbable, isOutsideEvent } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") PortalContext.displayName = \"PortalContext\";\nexport const usePortalContext = () => React.useContext(PortalContext);\nconst attr = createAttribute('portal');\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nexport function useFloatingPortalNode(props = {}) {\n  const {\n    id,\n    root\n  } = props;\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const [portalNode, setPortalNode] = React.useState(null);\n  const portalNodeRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    return () => {\n      portalNode?.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  useIsoLayoutEffect(() => {\n    // Wait for the uniqueId to be generated before creating the portal node in\n    // React <18 (using `useFloatingId` instead of the native `useId`).\n    // https://github.com/floating-ui/floating-ui/issues/2778\n    if (!uniqueId) {\n      return;\n    }\n    if (portalNodeRef.current) {\n      return;\n    }\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) {\n      return;\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  useIsoLayoutEffect(() => {\n    // Wait for the root to exist before creating the portal node. The root must\n    // be stored in state, not a ref, for this to work reactively.\n    if (root === null) {\n      return;\n    }\n    if (!uniqueId) {\n      return;\n    }\n    if (portalNodeRef.current) {\n      return;\n    }\n    let container = root || portalContext?.portalNode;\n    if (container && !isNode(container)) {\n      container = container.current;\n    }\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n * @internal\n */\nexport function FloatingPortal(props) {\n  const {\n    children,\n    id,\n    root,\n    preserveTabOrder = true\n  } = props;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const modal = focusManagerState?.modal;\n  const open = focusManagerState?.open;\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || modal) {\n      return undefined;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, modal]);\n  React.useEffect(() => {\n    if (!portalNode) {\n      return;\n    }\n    if (open) {\n      return;\n    }\n    enableFocusInside(portalNode);\n  }, [open, portalNode]);\n  return /*#__PURE__*/_jsxs(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode]),\n    children: [shouldRenderGuards && portalNode && /*#__PURE__*/_jsx(FocusGuard, {\n      \"data-type\": \"outside\",\n      ref: beforeOutsideRef,\n      onFocus: event => {\n        if (isOutsideEvent(event, portalNode)) {\n          beforeInsideRef.current?.focus();\n        } else {\n          const domReference = focusManagerState ? focusManagerState.domReference : null;\n          const prevTabbable = getPreviousTabbable(domReference);\n          prevTabbable?.focus();\n        }\n      }\n    }), shouldRenderGuards && portalNode && /*#__PURE__*/_jsx(\"span\", {\n      \"aria-owns\": portalNode.id,\n      style: visuallyHidden\n    }), portalNode && /*#__PURE__*/ReactDOM.createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/_jsx(FocusGuard, {\n      \"data-type\": \"outside\",\n      ref: afterOutsideRef,\n      onFocus: event => {\n        if (isOutsideEvent(event, portalNode)) {\n          afterInsideRef.current?.focus();\n        } else {\n          const domReference = focusManagerState ? focusManagerState.domReference : null;\n          const nextTabbable = getNextTabbable(domReference);\n          nextTabbable?.focus();\n          if (focusManagerState?.closeOnFocusOut) {\n            focusManagerState?.onOpenChange(false, createChangeEventDetails('focus-out', event.nativeEvent));\n          }\n        }\n      }\n    })]\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useAnimationFrame } from '@base-ui-components/utils/useAnimationFrame';\nimport { useTimeout } from '@base-ui-components/utils/useTimeout';\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { isMouseLikePointerType, isTypeableElement } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nexport function useClick(context, props = {}) {\n  const {\n    open,\n    onOpenChange,\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    stickIfOpen = true,\n    touchOpenDelay = 0\n  } = props;\n  const pointerTypeRef = React.useRef(undefined);\n  const frame = useAnimationFrame();\n  const touchOpenTimeout = useTimeout();\n  const reference = React.useMemo(() => ({\n    onPointerDown(event) {\n      pointerTypeRef.current = event.pointerType;\n    },\n    onMouseDown(event) {\n      const pointerType = pointerTypeRef.current;\n      const nativeEvent = event.nativeEvent;\n\n      // Ignore all buttons except for the \"main\" button.\n      // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n      if (event.button !== 0 || eventOption === 'click' || isMouseLikePointerType(pointerType, true) && ignoreMouse) {\n        return;\n      }\n      const openEvent = dataRef.current.openEvent;\n      const openEventType = openEvent?.type;\n      const nextOpen = !(open && toggle && (openEvent && stickIfOpen ? openEventType === 'click' || openEventType === 'mousedown' : true));\n\n      // Animations sometimes won't run on a typeable element if using a rAF.\n      // Focus is always set on these elements. For touch, we may delay opening.\n      if (isTypeableElement(nativeEvent.target)) {\n        const details = createChangeEventDetails('trigger-press', nativeEvent);\n        if (nextOpen && pointerType === 'touch' && touchOpenDelay > 0) {\n          touchOpenTimeout.start(touchOpenDelay, () => {\n            onOpenChange(true, details);\n          });\n        } else {\n          onOpenChange(nextOpen, details);\n        }\n        return;\n      }\n\n      // Wait until focus is set on the element. This is an alternative to\n      // `event.preventDefault()` to avoid :focus-visible from appearing when using a pointer.\n      frame.request(() => {\n        const details = createChangeEventDetails('trigger-press', nativeEvent);\n        if (nextOpen && pointerType === 'touch' && touchOpenDelay > 0) {\n          touchOpenTimeout.start(touchOpenDelay, () => {\n            onOpenChange(true, details);\n          });\n        } else {\n          onOpenChange(nextOpen, details);\n        }\n      });\n    },\n    onClick(event) {\n      if (eventOption === 'mousedown-only') {\n        return;\n      }\n      const pointerType = pointerTypeRef.current;\n      if (eventOption === 'mousedown' && pointerType) {\n        pointerTypeRef.current = undefined;\n        return;\n      }\n      if (isMouseLikePointerType(pointerType, true) && ignoreMouse) {\n        return;\n      }\n      const openEvent = dataRef.current.openEvent;\n      const openEventType = openEvent?.type;\n      const nextOpen = !(open && toggle && (openEvent && stickIfOpen ? openEventType === 'click' || openEventType === 'mousedown' || openEventType === 'keydown' || openEventType === 'keyup' : true));\n      const details = createChangeEventDetails('trigger-press', event.nativeEvent);\n      if (nextOpen && pointerType === 'touch' && touchOpenDelay > 0) {\n        touchOpenTimeout.start(touchOpenDelay, () => {\n          onOpenChange(true, details);\n        });\n      } else {\n        onOpenChange(nextOpen, details);\n      }\n    },\n    onKeyDown() {\n      pointerTypeRef.current = undefined;\n    }\n  }), [dataRef, eventOption, ignoreMouse, onOpenChange, open, stickIfOpen, toggle, frame, touchOpenTimeout, touchOpenDelay]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : EMPTY_OBJECT, [enabled, reference]);\n}", "import * as React from 'react';\nimport { getWindow } from '@floating-ui/utils/dom';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { contains, getTarget, isMouseLikePointerType } from \"../utils.js\";\nfunction createVirtualElement(domElement, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domElement || undefined,\n    getBoundingClientRect() {\n      const domRect = domElement?.getBoundingClientRect() || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(data.dataRef.current.openEvent?.type || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nexport function useClientPoint(context, props = {}) {\n  const {\n    open,\n    dataRef,\n    elements: {\n      floating,\n      domReference\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEventCallback((newX, newY) => {\n    if (initialRef.current) {\n      return;\n    }\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(domReference, {\n      x: newX,\n      y: newY,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEventCallback(event => {\n    if (x != null || y != null) {\n      return;\n    }\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) {\n      return undefined;\n    }\n    const win = getWindow(floating);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(floating, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(domReference);\n    return undefined;\n  }, [openCheck, enabled, x, y, floating, dataRef, refs, domReference, setReference]);\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  useIsoLayoutEffect(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  const reference = React.useMemo(() => {\n    function setPointerTypeRef(event) {\n      setPointerType(event.pointerType);\n    }\n    return {\n      onPointerDown: setPointerTypeRef,\n      onPointerEnter: setPointerTypeRef,\n      onMouseMove: handleReferenceEnterOrMove,\n      onMouseEnter: handleReferenceEnterOrMove\n    };\n  }, [handleReferenceEnterOrMove]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : {}, [enabled, reference]);\n}", "import * as React from 'react';\nimport { getOverflowAncestors } from '@floating-ui/react-dom';\nimport { getComputedStyle, getParentNode, isElement, isHTMLElement, isLastTraversableNode, isWebKit } from '@floating-ui/utils/dom';\nimport { Timeout, useTimeout } from '@base-ui-components/utils/useTimeout';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { contains, getDocument, getTarget, isEventTargetWithin, isReactEvent, isRootElement, getNodeChildren } from \"../utils.js\";\n\n/* eslint-disable no-underscore-dangle */\n\nimport { useFloatingTree } from \"../components/FloatingTree.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nconst bubbleHandlerKeys = {\n  intentional: 'onClick',\n  sloppy: 'onPointerDown'\n};\nexport function normalizeProp(normalizable) {\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : normalizable?.escapeKey ?? false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : normalizable?.outsidePress ?? true\n  };\n}\n/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nexport function useDismiss(context, props = {}) {\n  const {\n    open,\n    onOpenChange,\n    elements,\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: outsidePressProp = true,\n    outsidePressEvent = 'sloppy',\n    referencePress = false,\n    referencePressEvent = 'sloppy',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEventCallback(typeof outsidePressProp === 'function' ? outsidePressProp : () => false);\n  const outsidePress = typeof outsidePressProp === 'function' ? outsidePressFn : outsidePressProp;\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const touchStateRef = React.useRef(null);\n  const cancelDismissOnEndTimeout = useTimeout();\n  const insideReactTreeTimeout = useTimeout();\n  const isComposingRef = React.useRef(false);\n  const currentPointerTypeRef = React.useRef('');\n  const trackPointerType = useEventCallback(event => {\n    currentPointerTypeRef.current = event.pointerType;\n  });\n  const getOutsidePressEvent = useEventCallback(() => {\n    const type = currentPointerTypeRef.current;\n    const computedType = type === 'pen' || !type ? 'mouse' : type;\n    const resolved = typeof outsidePressEvent === 'function' ? outsidePressEvent() : outsidePressEvent;\n    if (typeof resolved === 'string') {\n      return resolved;\n    }\n    return resolved[computedType];\n  });\n  const closeOnEscapeKeyDown = useEventCallback(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n\n    // Wait until IME is settled. Pressing `Escape` while composing should\n    // close the compose menu, but not the floating element.\n    if (isComposingRef.current) {\n      return;\n    }\n    const nodeId = dataRef.current.floatingContext?.nodeId;\n    const children = tree ? getNodeChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          if (child.context?.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    const native = isReactEvent(event) ? event.nativeEvent : event;\n    const eventDetails = createChangeEventDetails('escape-key', native);\n    onOpenChange(false, eventDetails);\n    if (!escapeKeyBubbles && !eventDetails.isPropagationAllowed) {\n      event.stopPropagation();\n    }\n  });\n  const shouldIgnoreEvent = useEventCallback(event => {\n    const computedOutsidePressEvent = getOutsidePressEvent();\n    return computedOutsidePressEvent === 'intentional' && event.type !== 'click' || computedOutsidePressEvent === 'sloppy' && event.type === 'click';\n  });\n  const closeOnEscapeKeyDownCapture = useEventCallback(event => {\n    const callback = () => {\n      closeOnEscapeKeyDown(event);\n      getTarget(event)?.removeEventListener('keydown', callback);\n    };\n    getTarget(event)?.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEventCallback((event, endedOrStartedInside = false) => {\n    if (shouldIgnoreEvent(event)) {\n      return;\n    }\n\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = dataRef.current.insideReactTree;\n    dataRef.current.insideReactTree = false;\n    if (getOutsidePressEvent() === 'intentional' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = `[${createAttribute('inert')}]`;\n    const markers = getDocument(elements.floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, elements.floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target)) {\n      const lastTraversableNode = isLastTraversableNode(target);\n      const style = getComputedStyle(target);\n      const scrollRe = /auto|scroll/;\n      const isScrollableX = lastTraversableNode || scrollRe.test(style.overflowX);\n      const isScrollableY = lastTraversableNode || scrollRe.test(style.overflowY);\n      const canScrollX = isScrollableX && target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = isScrollableY && target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      const isRTL = style.direction === 'rtl';\n\n      // Check click position relative to scrollbar.\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      const pressedVerticalScrollbar = canScrollY && (isRTL ? event.offsetX <= target.offsetWidth - target.clientWidth : event.offsetX > target.clientWidth);\n      const pressedHorizontalScrollbar = canScrollX && event.offsetY > target.clientHeight;\n      if (pressedVerticalScrollbar || pressedHorizontalScrollbar) {\n        return;\n      }\n    }\n    const nodeId = dataRef.current.floatingContext?.nodeId;\n    const targetIsInsideChildren = tree && getNodeChildren(tree.nodesRef.current, nodeId).some(node => isEventTargetWithin(event, node.context?.elements.floating));\n    if (isEventTargetWithin(event, elements.floating) || isEventTargetWithin(event, elements.domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getNodeChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        if (child.context?.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, createChangeEventDetails('outside-press', event));\n  });\n  const handlePointerDown = useEventCallback(event => {\n    if (getOutsidePressEvent() !== 'sloppy' || !open || !enabled || isEventTargetWithin(event, elements.floating) || isEventTargetWithin(event, elements.domReference)) {\n      return;\n    }\n    if (event.pointerType === 'touch') {\n      touchStateRef.current = {\n        startTime: Date.now(),\n        startX: event.clientX,\n        startY: event.clientY,\n        dismissOnPointerUp: false,\n        dismissOnMouseDown: true\n      };\n      cancelDismissOnEndTimeout.start(1000, () => {\n        if (touchStateRef.current) {\n          touchStateRef.current.dismissOnPointerUp = false;\n          touchStateRef.current.dismissOnMouseDown = false;\n        }\n      });\n      return;\n    }\n    closeOnPressOutside(event);\n  });\n  const closeOnPressOutsideCapture = useEventCallback(event => {\n    // When click outside is lazy (`up` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (shouldIgnoreEvent(event)) {\n      return;\n    }\n    cancelDismissOnEndTimeout.clear();\n    if (event.type === 'mousedown' && touchStateRef.current && !touchStateRef.current.dismissOnMouseDown) {\n      return;\n    }\n    const callback = () => {\n      if (event.type === 'pointerdown') {\n        handlePointerDown(event);\n      } else {\n        closeOnPressOutside(event, endedOrStartedInside);\n      }\n      getTarget(event)?.removeEventListener(event.type, callback);\n    };\n    getTarget(event)?.addEventListener(event.type, callback);\n  });\n  const handlePointerMove = useEventCallback(event => {\n    if (getOutsidePressEvent() !== 'sloppy' || event.pointerType !== 'touch' || !touchStateRef.current || isEventTargetWithin(event, elements.floating) || isEventTargetWithin(event, elements.domReference)) {\n      return;\n    }\n    const deltaX = Math.abs(event.clientX - touchStateRef.current.startX);\n    const deltaY = Math.abs(event.clientY - touchStateRef.current.startY);\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    if (distance > 5) {\n      touchStateRef.current.dismissOnPointerUp = true;\n    }\n    if (distance > 10) {\n      closeOnPressOutside(event);\n      cancelDismissOnEndTimeout.clear();\n      touchStateRef.current = null;\n    }\n  });\n  const handlePointerUp = useEventCallback(event => {\n    if (getOutsidePressEvent() !== 'sloppy' || event.pointerType !== 'touch' || !touchStateRef.current || isEventTargetWithin(event, elements.floating) || isEventTargetWithin(event, elements.domReference)) {\n      return;\n    }\n    if (touchStateRef.current.dismissOnPointerUp) {\n      closeOnPressOutside(event);\n    }\n    cancelDismissOnEndTimeout.clear();\n    touchStateRef.current = null;\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return undefined;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    const compositionTimeout = new Timeout();\n    function onScroll(event) {\n      onOpenChange(false, createChangeEventDetails('none', event));\n    }\n    function handleCompositionStart() {\n      compositionTimeout.clear();\n      isComposingRef.current = true;\n    }\n    function handleCompositionEnd() {\n      // Safari fires `compositionend` before `keydown`, so we need to wait\n      // until the next tick to set `isComposing` to `false`.\n      // https://bugs.webkit.org/show_bug.cgi?id=165004\n      compositionTimeout.start(\n      // 0ms or 1ms don't work in Safari. 5ms appears to consistently work.\n      // Only apply to WebKit for the test to remain 0ms.\n      isWebKit() ? 5 : 0, () => {\n        isComposingRef.current = false;\n      });\n    }\n    const doc = getDocument(elements.floating);\n    doc.addEventListener('pointerdown', trackPointerType, true);\n    if (escapeKey) {\n      doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      doc.addEventListener('compositionstart', handleCompositionStart);\n      doc.addEventListener('compositionend', handleCompositionEnd);\n    }\n    if (outsidePress) {\n      doc.addEventListener('click', outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      doc.addEventListener('pointerdown', outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      doc.addEventListener('pointermove', handlePointerMove, outsidePressCapture);\n      doc.addEventListener('pointerup', handlePointerUp, outsidePressCapture);\n      doc.addEventListener('mousedown', closeOnPressOutsideCapture, outsidePressCapture);\n    }\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(elements.domReference)) {\n        ancestors = getOverflowAncestors(elements.domReference);\n      }\n      if (isElement(elements.floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(elements.floating));\n      }\n      if (!isElement(elements.reference) && elements.reference && elements.reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(elements.reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => ancestor !== doc.defaultView?.visualViewport);\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      doc.removeEventListener('pointerdown', trackPointerType, true);\n      if (escapeKey) {\n        doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n        doc.removeEventListener('compositionstart', handleCompositionStart);\n        doc.removeEventListener('compositionend', handleCompositionEnd);\n      }\n      if (outsidePress) {\n        doc.removeEventListener('click', outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n        doc.removeEventListener('pointerdown', outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n        doc.removeEventListener('pointermove', handlePointerMove, outsidePressCapture);\n        doc.removeEventListener('pointerup', handlePointerUp, outsidePressCapture);\n        doc.removeEventListener('mousedown', closeOnPressOutsideCapture, outsidePressCapture);\n      }\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n      compositionTimeout.clear();\n    };\n  }, [dataRef, elements, escapeKey, outsidePress, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture, handlePointerDown, handlePointerMove, handlePointerUp, trackPointerType]);\n  React.useEffect(() => {\n    dataRef.current.insideReactTree = false;\n  }, [dataRef, outsidePress]);\n  const reference = React.useMemo(() => ({\n    onKeyDown: closeOnEscapeKeyDown,\n    ...(referencePress && {\n      [bubbleHandlerKeys[referencePressEvent]]: event => {\n        onOpenChange(false, createChangeEventDetails('trigger-press', event.nativeEvent));\n      },\n      ...(referencePressEvent !== 'intentional' && {\n        onClick(event) {\n          onOpenChange(false, createChangeEventDetails('trigger-press', event.nativeEvent));\n        }\n      })\n    })\n  }), [closeOnEscapeKeyDown, onOpenChange, referencePress, referencePressEvent]);\n  const handlePressedInside = useEventCallback(event => {\n    const target = getTarget(event.nativeEvent);\n    if (!contains(elements.floating, target) || event.button !== 0) {\n      return;\n    }\n    endedOrStartedInsideRef.current = true;\n  });\n  const handleCaptureInside = useEventCallback(() => {\n    dataRef.current.insideReactTree = true;\n    insideReactTreeTimeout.start(0, () => {\n      dataRef.current.insideReactTree = false;\n    });\n  });\n  const floating = React.useMemo(() => ({\n    onKeyDown: closeOnEscapeKeyDown,\n    onMouseDown: handlePressedInside,\n    onMouseUp: handlePressedInside,\n    onPointerDownCapture: handleCaptureInside,\n    onMouseDownCapture: handleCaptureInside,\n    onClickCapture: handleCaptureInside,\n    onMouseUpCapture: handleCaptureInside\n  }), [closeOnEscapeKeyDown, handlePressedInside, handleCaptureInside]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating\n  } : {}, [enabled, reference, floating]);\n}", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    x,\n    y,\n    width: rects.floating.width,\n    height: rects.floating.height\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const initialSideAxis = getSideAxis(initialPlacement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\n          if (!ignoreCrossAxisOverflow ||\n          // We leave the current main axis only if every placement on that axis\n          // overflows the main axis.\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\n            // Try next placement and re-run the lifecycle.\n            return {\n              data: {\n                index: nextIndex,\n                overflows: overflowsData\n              },\n              reset: {\n                placement: nextPlacement\n              }\n            };\n          }\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$filter2;\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\n                  if (hasFallbackAxisSideDirection) {\n                    const currentSideAxis = getSideAxis(d.placement);\n                    return currentSideAxis === initialSideAxis ||\n                    // Create a bias to the `y` side axis due to horizontal\n                    // reading directions favoring greater width.\n                    currentSideAxis === 'y';\n                  }\n                  return true;\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n\n  // eslint-disable-next-line prefer-const\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: rawValue.mainAxis || 0,\n    crossAxis: rawValue.crossAxis || 0,\n    alignmentAxis: rawValue.alignmentAxis\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y,\n          enabled: {\n            [mainAxis]: checkMainAxis,\n            [crossAxis]: checkCrossAxis\n          }\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = originSides.has(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      var _state$middlewareData, _state$middlewareData2;\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\n      const maximumClippingWidth = width - overflow.left - overflow.right;\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\n        availableWidth = maximumClippingWidth;\n      }\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\n        availableHeight = maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n", "import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle$1(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = getFrameElement(currentWin);\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle$1(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = getFrameElement(currentWin);\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\n// If <html> has a CSS width greater than the viewport, then this will be\n// incorrect for RTL.\nfunction getWindowScrollBarX(element, rect) {\n  const leftScroll = getNodeScroll(element).scrollLeft;\n  if (!rect) {\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\n  }\n  return rect.left + leftScroll;\n}\n\nfunction getHTMLOffset(documentElement, scroll) {\n  const htmlRect = documentElement.getBoundingClientRect();\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\n  const y = htmlRect.top + scroll.scrollTop;\n  return {\n    x,\n    y\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle$1(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Safety check: ensure the scrollbar space is reasonable in case this\n// calculation is affected by unusual styles.\n// Most scrollbars leave 15-18px of space.\nconst SCROLLBAR_MAX = 25;\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  const windowScrollbarX = getWindowScrollBarX(html);\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\n  // visual width of the <html> but this is not considered in the size\n  // of `html.clientWidth`.\n  if (windowScrollbarX <= 0) {\n    const doc = html.ownerDocument;\n    const body = doc.body;\n    const bodyStyles = getComputedStyle(body);\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\n      width -= clippingStableScrollbarWidth;\n    }\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\n    // If the <body> scrollbar is on the left, the width needs to be extended\n    // by the scrollbar amount so there isn't extra space on the right.\n    width += windowScrollbarX;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y,\n      width: clippingAncestor.width,\n      height: clippingAncestor.height\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle$1(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\n  function setLeftRTLScrollbarOffset() {\n    offsets.x = getWindowScrollBarX(documentElement);\n  }\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      setLeftRTLScrollbarOffset();\n    }\n  }\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\n    setLeftRTLScrollbarOffset();\n  }\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction isStaticPositioned(element) {\n  return getComputedStyle$1(element).position === 'static';\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  let rawOffsetParent = element.offsetParent;\n\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\n  // while Chrome and Safari return the <body> element. The <body> element must\n  // be used to perform the correct calculations even if the <html> element is\n  // non-static.\n  if (getDocumentElement(element) === rawOffsetParent) {\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\n  }\n  return rawOffsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const win = getWindow(element);\n  if (isTopLayer(element)) {\n    return win;\n  }\n  if (!isHTMLElement(element)) {\n    let svgOffsetParent = getParentNode(element);\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\n        return svgOffsetParent;\n      }\n      svgOffsetParent = getParentNode(svgOffsetParent);\n    }\n    return win;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\n    return win;\n  }\n  return offsetParent || getContainingBlock(element) || win;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  const floatingDimensions = await getDimensionsFn(data.floating);\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      width: floatingDimensions.width,\n      height: floatingDimensions.height\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle$1(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\nfunction rectsAreEqual(a, b) {\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\n}\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const elementRectForRootMargin = element.getBoundingClientRect();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = elementRectForRootMargin;\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\n          // to prevent an infinite loop of updates.\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 1000);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\n        // It's possible that even though the ratio is reported as 1, the\n        // element is not actually fully within the IntersectionObserver's root\n        // area anymore. This can happen under performance constraints. This may\n        // be a bug in the browser's IntersectionObserver implementation. To\n        // work around this, we compare the element's bounding rect now with\n        // what it was at the time we created the IntersectionObserver. If they\n        // are not equal then the element moved, so we refresh.\n        refresh();\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (_e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nconst detectOverflow = detectOverflow$1;\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = offset$1;\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\n", "import { computePosition, arrow as arrow$2, autoPlacement as autoPlacement$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1 } from '@floating-ui/dom';\nexport { autoUpdate, computePosition, detectOverflow, getOverflowAncestors, platform } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\nvar isClient = typeof document !== 'undefined';\n\nvar noop = function noop() {};\nvar index = isClient ? useLayoutEffect : noop;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const openRef = useLatestRef(open);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        // The floating element's position may be recomputed while it's closed\n        // but still mounted (such as when transitioning out). To ensure\n        // `isPositioned` will be `false` initially on the next open, avoid\n        // setting it to `true` when `open === false` (must be specified).\n        isPositioned: openRef.current !== false\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef, openRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow$1 = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$2({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$2({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = (options, deps) => ({\n  ...offset$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = (options, deps) => ({\n  ...shift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = (options, deps) => ({\n  ...limitShift$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = (options, deps) => ({\n  ...flip$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = (options, deps) => ({\n  ...size$1(options),\n  options: [options, deps]\n});\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = (options, deps) => ({\n  ...autoPlacement$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = (options, deps) => ({\n  ...hide$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = (options, deps) => ({\n  ...inline$1(options),\n  options: [options, deps]\n});\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = (options, deps) => ({\n  ...arrow$1(options),\n  options: [options, deps]\n});\n\nexport { arrow, autoPlacement, flip, hide, inline, limitShift, offset, shift, size, useFloating };\n", "import * as React from 'react';\nimport { useFloating as usePosition } from '@floating-ui/react-dom';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { useFloatingTree } from \"../components/FloatingTree.js\";\nimport { useFloatingRootContext } from \"./useFloatingRootContext.js\";\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nexport function useFloating(options = {}) {\n  const {\n    nodeId\n  } = options;\n  const internalRootContext = useFloatingRootContext({\n    ...options,\n    elements: {\n      reference: null,\n      floating: null,\n      ...options.elements\n    }\n  });\n  const rootContext = options.rootContext || internalRootContext;\n  const computedElements = rootContext.elements;\n  const [domReferenceState, setDomReference] = React.useState(null);\n  const [positionReference, setPositionReferenceRaw] = React.useState(null);\n  const optionDomReference = computedElements?.domReference;\n  const domReference = optionDomReference || domReferenceState;\n  const domReferenceRef = React.useRef(null);\n  const tree = useFloatingTree();\n  useIsoLayoutEffect(() => {\n    if (domReference) {\n      domReferenceRef.current = domReference;\n    }\n  }, [domReference]);\n  const position = usePosition({\n    ...options,\n    elements: {\n      ...computedElements,\n      ...(positionReference && {\n        reference: positionReference\n      })\n    }\n  });\n  const setPositionReference = React.useCallback(node => {\n    const computedPositionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      getClientRects: () => node.getClientRects(),\n      contextElement: node\n    } : node;\n    // Store the positionReference in state if the DOM reference is specified externally via the\n    // `elements.reference` option. This ensures that it won't be overridden on future renders.\n    setPositionReferenceRaw(computedPositionReference);\n    position.refs.setReference(computedPositionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    ...rootContext,\n    refs,\n    elements,\n    nodeId\n  }), [position, refs, elements, nodeId, rootContext]);\n  useIsoLayoutEffect(() => {\n    rootContext.dataRef.current.floatingContext = context;\n    const node = tree?.nodesRef.current.find(n => n.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}", "import * as React from 'react';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { useId } from '@base-ui-components/utils/useId';\nimport { createEventEmitter } from \"../utils/createEventEmitter.js\";\nimport { useFloatingParentNodeId } from \"../components/FloatingTree.js\";\nexport function useFloatingRootContext(options) {\n  const {\n    open = false,\n    onOpenChange: onOpenChangeProp,\n    elements: elementsProp\n  } = options;\n  const floatingId = useId();\n  const dataRef = React.useRef({});\n  const [events] = React.useState(() => createEventEmitter());\n  const nested = useFloatingParentNodeId() != null;\n  if (process.env.NODE_ENV !== 'production') {\n    const optionDomReference = elementsProp.reference;\n    if (optionDomReference && !isElement(optionDomReference)) {\n      console.error('Cannot pass a virtual element to the `elements.reference` option,', 'as it must be a real DOM element. Use `refs.setPositionReference()`', 'instead.');\n    }\n  }\n  const [positionReference, setPositionReference] = React.useState(elementsProp.reference);\n  const onOpenChange = useEventCallback((newOpen, eventDetails) => {\n    dataRef.current.openEvent = newOpen ? eventDetails.event : undefined;\n    if (!options.noEmit) {\n      const details = {\n        open: newOpen,\n        reason: eventDetails.reason,\n        nativeEvent: eventDetails.event,\n        nested\n      };\n      events.emit('openchange', details);\n    }\n    onOpenChangeProp?.(newOpen, eventDetails);\n  });\n  const refs = React.useMemo(() => ({\n    setPositionReference\n  }), []);\n  const elements = React.useMemo(() => ({\n    reference: positionReference || elementsProp.reference || null,\n    floating: elementsProp.floating || null,\n    domReference: elementsProp.reference\n  }), [positionReference, elementsProp.reference, elementsProp.floating]);\n  return React.useMemo(() => ({\n    dataRef,\n    open,\n    onOpenChange,\n    elements,\n    events,\n    floatingId,\n    refs\n  }), [open, onOpenChange, elements, events, floatingId, refs]);\n}\nexport function getEmptyContext() {\n  return {\n    open: false,\n    onOpenChange: () => {},\n    dataRef: {\n      current: {}\n    },\n    elements: {\n      floating: null,\n      reference: null,\n      domReference: null\n    },\n    events: {\n      on: () => {},\n      off: () => {},\n      emit: () => {}\n    },\n    floatingId: '',\n    refs: {\n      setPositionReference: () => {}\n    }\n  };\n}", "import * as React from 'react';\nimport { getWindow, isElement, isHTMLElement } from '@floating-ui/utils/dom';\nimport { isMac, isSafari } from '@base-ui-components/utils/detectBrowser';\nimport { useTimeout } from '@base-ui-components/utils/useTimeout';\nimport { activeElement, contains, getDocument, getTarget, isTypeableElement, matchesFocusVisible } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nconst isMacSafari = isMac && isSafari;\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nexport function useFocus(context, props = {}) {\n  const {\n    open,\n    onOpenChange,\n    events,\n    dataRef,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeout = useTimeout();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    const win = getWindow(elements.domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(elements.domReference) && elements.domReference === activeElement(getDocument(elements.domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    function onPointerDown() {\n      keyboardModalityRef.current = false;\n    }\n    win.addEventListener('blur', onBlur);\n    if (isMacSafari) {\n      win.addEventListener('keydown', onKeyDown, true);\n      win.addEventListener('pointerdown', onPointerDown, true);\n    }\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      if (isMacSafari) {\n        win.removeEventListener('keydown', onKeyDown, true);\n        win.removeEventListener('pointerdown', onPointerDown, true);\n      }\n    };\n  }, [elements.domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    function onOpenChangeLocal(details) {\n      if (details.reason === 'trigger-press' || details.reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChangeLocal);\n    return () => {\n      events.off('openchange', onOpenChangeLocal);\n    };\n  }, [events, enabled]);\n  const reference = React.useMemo(() => ({\n    onMouseLeave() {\n      blockFocusRef.current = false;\n    },\n    onFocus(event) {\n      if (blockFocusRef.current) {\n        return;\n      }\n      const target = getTarget(event.nativeEvent);\n      if (visibleOnly && isElement(target)) {\n        // Safari fails to match `:focus-visible` if focus was initially\n        // outside the document.\n        if (isMacSafari && !event.relatedTarget) {\n          if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n            return;\n          }\n        } else if (!matchesFocusVisible(target)) {\n          return;\n        }\n      }\n      onOpenChange(true, createChangeEventDetails('trigger-focus', event.nativeEvent));\n    },\n    onBlur(event) {\n      blockFocusRef.current = false;\n      const relatedTarget = event.relatedTarget;\n      const nativeEvent = event.nativeEvent;\n\n      // Hit the non-modal focus management portal guard. Focus will be\n      // moved into the floating element immediately after.\n      const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n      // Wait for the window blur listener to fire.\n      timeout.start(0, () => {\n        const activeEl = activeElement(elements.domReference ? elements.domReference.ownerDocument : document);\n\n        // Focus left the page, keep it open.\n        if (!relatedTarget && activeEl === elements.domReference) {\n          return;\n        }\n\n        // When focusing the reference element (e.g. regular click), then\n        // clicking into the floating element, prevent it from hiding.\n        // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n        // We can not rely on relatedTarget to point to the correct element\n        // as it will only point to the shadow host of the newly focused element\n        // and not the element that actually has received focus if it is located\n        // inside a shadow root.\n        if (contains(dataRef.current.floatingContext?.refs.floating.current, activeEl) || contains(elements.domReference, activeEl) || movedToFocusGuard) {\n          return;\n        }\n        onOpenChange(false, createChangeEventDetails('trigger-focus', nativeEvent));\n      });\n    }\n  }), [dataRef, elements.domReference, onOpenChange, visibleOnly, timeout]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : {}, [enabled, reference]);\n}", "import * as React from 'react';\nimport { ACTIVE_KEY, FOCUSABLE_ATTRIBUTE, SELECTED_KEY } from \"../utils/constants.js\";\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nexport function useInteractions(propsList = []) {\n  const referenceDeps = propsList.map(key => key?.reference);\n  const floatingDeps = propsList.map(key => key?.floating);\n  const itemDeps = propsList.map(key => key?.item);\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  referenceDeps);\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  floatingDeps);\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  itemDeps);\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\n/* eslint-disable guard-for-in */\n\nfunction mergeProps(userProps, propsList, elementKey) {\n  const eventHandlers = new Map();\n  const isItem = elementKey === 'item';\n  const outputProps = {};\n  if (elementKey === 'floating') {\n    outputProps.tabIndex = -1;\n    outputProps[FOCUSABLE_ATTRIBUTE] = '';\n  }\n  for (const key in userProps) {\n    if (isItem && userProps) {\n      if (key === ACTIVE_KEY || key === SELECTED_KEY) {\n        continue;\n      }\n    }\n    outputProps[key] = userProps[key];\n  }\n  for (let i = 0; i < propsList.length; i += 1) {\n    let props;\n    const propsOrGetProps = propsList[i]?.[elementKey];\n    if (typeof propsOrGetProps === 'function') {\n      props = userProps ? propsOrGetProps(userProps) : null;\n    } else {\n      props = propsOrGetProps;\n    }\n    if (!props) {\n      continue;\n    }\n    mutablyMergeProps(outputProps, props, isItem, eventHandlers);\n  }\n  mutablyMergeProps(outputProps, userProps, isItem, eventHandlers);\n  return outputProps;\n}\nfunction mutablyMergeProps(outputProps, props, isItem, eventHandlers) {\n  for (const key in props) {\n    const value = props[key];\n    if (isItem && (key === ACTIVE_KEY || key === SELECTED_KEY)) {\n      continue;\n    }\n    if (!key.startsWith('on')) {\n      outputProps[key] = value;\n    } else {\n      if (!eventHandlers.has(key)) {\n        eventHandlers.set(key, []);\n      }\n      if (typeof value === 'function') {\n        eventHandlers.get(key)?.push(value);\n        outputProps[key] = (...args) => {\n          return eventHandlers.get(key)?.map(fn => fn(...args)).find(val => val !== undefined);\n        };\n      }\n    }\n  }\n}", "import * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useLatestRef } from '@base-ui-components/utils/useLatestRef';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { activeElement, contains, getDocument, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, stopEvent, getFloatingFocusElement, isIndexOutOfListBounds, getMinListIndex, getMaxListIndex, getGridNavigatedIndex, isListIndexDisabled, createGridCellMap, getGridCellIndices, getGridCellIndexOfCorner, findNonDisabledListIndex } from \"../utils.js\";\nimport { useFloatingParentNodeId, useFloatingTree } from \"../components/FloatingTree.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { enqueueFocus } from \"../utils/enqueueFocus.js\";\nimport { ARROW_UP, ARROW_DOWN, ARROW_RIGHT, ARROW_LEFT } from \"../utils/constants.js\";\nexport const ESCAPE = 'Escape';\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl, cols) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  if (orientation === 'both' || orientation === 'horizontal' && cols && cols > 1) {\n    return key === ESCAPE;\n  }\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nexport function useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    elements\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: onNavigateProp = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    parentOrientation,\n    cols = 1,\n    scrollItemIntoView = true,\n    itemSizes,\n    dense = false,\n    id\n  } = props;\n  if (process.env.NODE_ENV !== 'production') {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn('`useListNavigation` looping must be enabled to allow escaping.');\n      }\n      if (!virtual) {\n        console.warn('`useListNavigation` must be virtual to allow escaping.');\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn('In grid list navigation mode (`cols` > 1), the `orientation` should', 'be either \"horizontal\" or \"both\".');\n    }\n  }\n  const floatingFocusElement = getFloatingFocusElement(elements.floating);\n  const floatingFocusElementRef = useLatestRef(floatingFocusElement);\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  useIsoLayoutEffect(() => {\n    context.dataRef.current.orientation = orientation;\n  }, [context, orientation]);\n  const typeableComboboxReference = isTypeableCombobox(elements.domReference);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex ?? -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const onNavigate = useEventCallback(event => {\n    onNavigateProp(indexRef.current === -1 ? null : indexRef.current, event);\n  });\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!elements.floating);\n  const previousOpenRef = React.useRef(open);\n  const forceSyncFocusRef = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const selectedIndexRef = useLatestRef(selectedIndex);\n  const focusItem = useEventCallback(() => {\n    function runFocus(item) {\n      if (virtual) {\n        tree?.events.emit('virtualfocus', item);\n      } else {\n        enqueueFocus(item, {\n          sync: forceSyncFocusRef.current,\n          preventScroll: true\n        });\n      }\n    }\n    const initialItem = listRef.current[indexRef.current];\n    const forceScrollIntoView = forceScrollIntoViewRef.current;\n    if (initialItem) {\n      runFocus(initialItem);\n    }\n    const scheduler = forceSyncFocusRef.current ? v => v() : requestAnimationFrame;\n    scheduler(() => {\n      const waitedItem = listRef.current[indexRef.current] || initialItem;\n      if (!waitedItem) {\n        return;\n      }\n      if (!initialItem) {\n        runFocus(waitedItem);\n      }\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions &&\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        waitedItem.scrollIntoView?.(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && elements.floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate();\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current();\n    }\n  }, [enabled, open, elements.floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    if (!open) {\n      forceSyncFocusRef.current = false;\n      return;\n    }\n    if (!elements.floating) {\n      return;\n    }\n    if (activeIndex == null) {\n      forceSyncFocusRef.current = false;\n      if (selectedIndexRef.current != null) {\n        return;\n      }\n\n      // Reset while the floating element was open (e.g. the list changed).\n      if (previousMountedRef.current) {\n        indexRef.current = -1;\n        focusItem();\n      }\n\n      // Initial sync.\n      if ((!previousOpenRef.current || !previousMountedRef.current) && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n        let runs = 0;\n        const waitForListPopulated = () => {\n          if (listRef.current[0] == null) {\n            // Avoid letting the browser paint if possible on the first try,\n            // otherwise use rAF. Don't try more than twice, since something\n            // is wrong otherwise.\n            if (runs < 2) {\n              const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n              scheduler(waitForListPopulated);\n            }\n            runs += 1;\n          } else {\n            indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinListIndex(listRef, disabledIndicesRef.current) : getMaxListIndex(listRef, disabledIndicesRef.current);\n            keyRef.current = null;\n            onNavigate();\n          }\n        };\n        waitForListPopulated();\n      }\n    } else if (!isIndexOutOfListBounds(listRef, activeIndex)) {\n      indexRef.current = activeIndex;\n      focusItem();\n      forceScrollIntoViewRef.current = false;\n    }\n  }, [enabled, open, elements.floating, activeIndex, selectedIndexRef, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  useIsoLayoutEffect(() => {\n    if (!enabled || elements.floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = nodes.find(node => node.id === parentId)?.context?.elements.floating;\n    const activeEl = activeElement(getDocument(elements.floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, elements.floating, tree, parentId, virtual]);\n  useIsoLayoutEffect(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousOpenRef.current = open;\n    previousMountedRef.current = !!elements.floating;\n  });\n  useIsoLayoutEffect(() => {\n    if (!open) {\n      keyRef.current = null;\n      focusItemOnOpenRef.current = focusItemOnOpen;\n    }\n  }, [open, focusItemOnOpen]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(event) {\n      if (!latestOpenRef.current) {\n        return;\n      }\n      const index = listRef.current.indexOf(event.currentTarget);\n      if (index !== -1 && indexRef.current !== index) {\n        indexRef.current = index;\n        onNavigate(event);\n      }\n    }\n    const itemProps = {\n      onFocus(event) {\n        forceSyncFocusRef.current = true;\n        syncCurrentTarget(event);\n      },\n      onClick: ({\n        currentTarget\n      }) => currentTarget.focus({\n        preventScroll: true\n      }),\n      // Safari\n      onMouseMove(event) {\n        forceSyncFocusRef.current = true;\n        forceScrollIntoViewRef.current = false;\n        if (focusItemOnHover) {\n          syncCurrentTarget(event);\n        }\n      },\n      onPointerLeave(event) {\n        if (!isPointerModalityRef.current || event.pointerType === 'touch') {\n          return;\n        }\n        forceSyncFocusRef.current = true;\n        const relatedTarget = event.relatedTarget;\n        if (!focusItemOnHover || listRef.current.includes(relatedTarget)) {\n          return;\n        }\n        indexRef.current = -1;\n        onNavigate(event);\n        if (!virtual) {\n          floatingFocusElementRef.current?.focus({\n            preventScroll: true\n          });\n        }\n      }\n    };\n    return itemProps;\n  }, [latestOpenRef, floatingFocusElementRef, focusItemOnHover, listRef, onNavigate, virtual]);\n  const getParentOrientation = React.useCallback(() => {\n    return parentOrientation ?? tree?.nodesRef.current.find(node => node.id === parentId)?.context?.dataRef?.current.orientation;\n  }, [parentId, tree, parentOrientation]);\n  const commonOnKeyDown = useEventCallback(event => {\n    isPointerModalityRef.current = false;\n    forceSyncFocusRef.current = true;\n\n    // When composing a character, Chrome fires ArrowDown twice. Firefox/Safari\n    // don't appear to suffer from this. `event.isComposing` is avoided due to\n    // Safari not supporting it properly (although it's not needed in the first\n    // place for Safari, just avoiding any possible issues).\n    if (event.which === 229) {\n      return;\n    }\n\n    // If the floating element is animating out, ignore navigation. Otherwise,\n    // the `activeIndex` gets set to 0 despite not being open so the next time\n    // the user ArrowDowns, the first item won't be focused.\n    if (!latestOpenRef.current && event.currentTarget === floatingFocusElementRef.current) {\n      return;\n    }\n    if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl, cols)) {\n      // If the nested list's close key is also the parent navigation key,\n      // let the parent navigate. Otherwise, stop propagating the event.\n      if (!isMainOrientationKey(event.key, getParentOrientation())) {\n        stopEvent(event);\n      }\n      onOpenChange(false, createChangeEventDetails('list-navigation', event.nativeEvent));\n      if (isHTMLElement(elements.domReference)) {\n        if (virtual) {\n          tree?.events.emit('virtualfocus', elements.domReference);\n        } else {\n          elements.domReference.focus();\n        }\n      }\n      return;\n    }\n    const currentIndex = indexRef.current;\n    const minIndex = getMinListIndex(listRef, disabledIndices);\n    const maxIndex = getMaxListIndex(listRef, disabledIndices);\n    if (!typeableComboboxReference) {\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(event);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(event);\n      }\n    }\n\n    // Grid navigation.\n    if (cols > 1) {\n      const sizes = itemSizes || Array.from({\n        length: listRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = createGridCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !isListIndexDisabled(listRef, index, disabledIndices));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !isListIndexDisabled(listRef, index, disabledIndices) ? cellIndex : foundIndex, -1);\n      const index = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        rtl,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getGridCellIndices([...((typeof disabledIndices !== 'function' ? disabledIndices : null) || listRef.current.map((_, listIndex) => isListIndexDisabled(listRef, listIndex, disabledIndices) ? listIndex : undefined)), undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getGridCellIndexOfCorner(indexRef.current > maxIndex ? minIndex : indexRef.current, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction\n        // we're moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        // eslint-disable-next-line no-nested-ternary\n        event.key === ARROW_DOWN ? 'bl' : event.key === (rtl ? ARROW_LEFT : ARROW_RIGHT) ? 'tr' : 'tl'),\n        stopEvent: true\n      })];\n      if (index != null) {\n        indexRef.current = index;\n        onNavigate(event);\n      }\n      if (orientation === 'both') {\n        return;\n      }\n    }\n    if (isMainOrientationKey(event.key, orientation)) {\n      stopEvent(event);\n\n      // Reset the index if no item is focused.\n      if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n        indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n        onNavigate(event);\n        return;\n      }\n      if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n        if (loop) {\n          if (currentIndex >= maxIndex) {\n            if (allowEscape && currentIndex !== listRef.current.length) {\n              indexRef.current = -1;\n            } else {\n              // Give time for virtualizers to update the listRef.\n              forceSyncFocusRef.current = false;\n              indexRef.current = minIndex;\n            }\n          } else {\n            indexRef.current = findNonDisabledListIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          }\n        } else {\n          indexRef.current = Math.min(maxIndex, findNonDisabledListIndex(listRef, {\n            startingIndex: currentIndex,\n            disabledIndices\n          }));\n        }\n      } else if (loop) {\n        if (currentIndex <= minIndex) {\n          if (allowEscape && currentIndex !== -1) {\n            indexRef.current = listRef.current.length;\n          } else {\n            // Give time for virtualizers to update the listRef.\n            forceSyncFocusRef.current = false;\n            indexRef.current = maxIndex;\n          }\n        } else {\n          indexRef.current = findNonDisabledListIndex(listRef, {\n            startingIndex: currentIndex,\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else {\n        indexRef.current = Math.max(minIndex, findNonDisabledListIndex(listRef, {\n          startingIndex: currentIndex,\n          decrement: true,\n          disabledIndices\n        }));\n      }\n      if (isIndexOutOfListBounds(listRef, indexRef.current)) {\n        indexRef.current = -1;\n      }\n      onNavigate(event);\n    }\n  });\n  const ariaActiveDescendantProp = React.useMemo(() => {\n    return virtual && open && hasActiveIndex && {\n      'aria-activedescendant': `${id}-${activeIndex}`\n    };\n  }, [virtual, open, hasActiveIndex, id, activeIndex]);\n  const floating = React.useMemo(() => {\n    return {\n      'aria-orientation': orientation === 'both' ? undefined : orientation,\n      ...(!typeableComboboxReference ? ariaActiveDescendantProp : {}),\n      onKeyDown(event) {\n        // Close submenu on Shift+Tab\n        if (event.key === 'Tab' && event.shiftKey && open && !virtual) {\n          stopEvent(event);\n          onOpenChange(false, createChangeEventDetails('list-navigation', event.nativeEvent));\n          if (isHTMLElement(elements.domReference)) {\n            elements.domReference.focus();\n          }\n          return;\n        }\n        commonOnKeyDown(event);\n      },\n      onPointerMove() {\n        isPointerModalityRef.current = true;\n      }\n    };\n  }, [ariaActiveDescendantProp, commonOnKeyDown, orientation, typeableComboboxReference, onOpenChange, open, virtual, elements.domReference]);\n  const reference = React.useMemo(() => {\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = !virtual;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    return {\n      ...ariaActiveDescendantProp,\n      onKeyDown(event) {\n        isPointerModalityRef.current = false;\n        const isArrowKey = event.key.startsWith('Arrow');\n        const isParentCrossOpenKey = isCrossOrientationOpenKey(event.key, getParentOrientation(), rtl);\n        const isMainKey = isMainOrientationKey(event.key, orientation);\n        const isNavigationKey = (nested ? isParentCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n        if (virtual && open) {\n          return commonOnKeyDown(event);\n        }\n\n        // If a floating element should not open on arrow key down, avoid\n        // setting `activeIndex` while it's closed.\n        if (!open && !openOnArrowKeyDown && isArrowKey) {\n          return undefined;\n        }\n        if (isNavigationKey) {\n          const isParentMainKey = isMainOrientationKey(event.key, getParentOrientation());\n          keyRef.current = nested && isParentMainKey ? null : event.key;\n        }\n        if (nested) {\n          if (isParentCrossOpenKey) {\n            stopEvent(event);\n            if (open) {\n              indexRef.current = getMinListIndex(listRef, disabledIndicesRef.current);\n              onNavigate(event);\n            } else {\n              onOpenChange(true, createChangeEventDetails('list-navigation', event.nativeEvent));\n            }\n          }\n          return undefined;\n        }\n        if (isMainKey) {\n          if (selectedIndex != null) {\n            indexRef.current = selectedIndex;\n          }\n          stopEvent(event);\n          if (!open && openOnArrowKeyDown) {\n            onOpenChange(true, createChangeEventDetails('list-navigation', event.nativeEvent));\n          } else {\n            commonOnKeyDown(event);\n          }\n          if (open) {\n            onNavigate(event);\n          }\n        }\n        return undefined;\n      },\n      onFocus(event) {\n        if (open && !virtual) {\n          indexRef.current = -1;\n          onNavigate(event);\n        }\n      },\n      onPointerDown: checkVirtualPointer,\n      onPointerEnter: checkVirtualPointer,\n      onMouseDown: checkVirtualMouse,\n      onClick: checkVirtualMouse\n    };\n  }, [ariaActiveDescendantProp, commonOnKeyDown, disabledIndicesRef, focusItemOnOpen, listRef, nested, onNavigate, onOpenChange, open, openOnArrowKeyDown, orientation, getParentOrientation, rtl, selectedIndex, virtual]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item\n  } : {}, [enabled, reference, floating, item]);\n}", "import * as React from 'react';\nimport { useId } from '@base-ui-components/utils/useId';\nimport { getFloatingFocusElement } from \"../utils.js\";\nimport { useFloatingParentNodeId } from \"../components/FloatingTree.js\";\nconst componentRoleToAriaRoleMap = new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nexport function useRole(context, props = {}) {\n  const {\n    open,\n    elements,\n    floatingId: defaultFloatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const defaultReferenceId = useId();\n  const referenceId = elements.domReference?.id || defaultReferenceId;\n  const floatingId = React.useMemo(() => getFloatingFocusElement(elements.floating)?.id || defaultFloatingId, [elements.floating, defaultFloatingId]);\n  const ariaRole = componentRoleToAriaRoleMap.get(role) ?? role;\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  const reference = React.useMemo(() => {\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        [`aria-${role === 'label' ? 'labelledby' : 'describedby'}`]: open ? floatingId : undefined\n      };\n    }\n    return {\n      'aria-expanded': open ? 'true' : 'false',\n      'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n      'aria-controls': open ? floatingId : undefined,\n      ...(ariaRole === 'listbox' && {\n        role: 'combobox'\n      }),\n      ...(ariaRole === 'menu' && {\n        id: referenceId\n      }),\n      ...(ariaRole === 'menu' && isNested && {\n        role: 'menuitem'\n      }),\n      ...(role === 'select' && {\n        'aria-autocomplete': 'none'\n      }),\n      ...(role === 'combobox' && {\n        'aria-autocomplete': 'list'\n      })\n    };\n  }, [ariaRole, floatingId, isNested, open, referenceId, role]);\n  const floating = React.useMemo(() => {\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return floatingProps;\n    }\n    return {\n      ...floatingProps,\n      ...(ariaRole === 'menu' && {\n        'aria-labelledby': referenceId\n      })\n    };\n  }, [ariaRole, floatingId, referenceId, role]);\n  const item = React.useCallback(({\n    active,\n    selected\n  }) => {\n    const commonProps = {\n      role: 'option',\n      ...(active && {\n        id: `${floatingId}-fui-option`\n      })\n    };\n\n    // For `menu`, we are unable to tell if the item is a `menuitemradio`\n    // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n    // avoid defaulting to `menuitem` as it may overwrite custom role props.\n    switch (role) {\n      case 'select':\n      case 'combobox':\n        return {\n          ...commonProps,\n          'aria-selected': selected\n        };\n      default:\n    }\n    return {};\n  }, [floatingId, role]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item\n  } : {}, [enabled, reference, floating, item]);\n}", "import * as React from 'react';\nimport { useLatestRef } from '@base-ui-components/utils/useLatestRef';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { useIsoLayoutEffect } from '@base-ui-components/utils/useIsoLayoutEffect';\nimport { useTimeout } from '@base-ui-components/utils/useTimeout';\nimport { stopEvent } from \"../utils.js\";\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nexport function useTypeahead(context, props) {\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: onMatchProp,\n    onTypingChange: onTypingChangeProp,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeout = useTimeout();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef(selectedIndex ?? activeIndex ?? -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEventCallback(onMatchProp);\n  const onTypingChange = useEventCallback(onTypingChangeProp);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  useIsoLayoutEffect(() => {\n    if (open) {\n      timeout.clear();\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open, timeout]);\n  useIsoLayoutEffect(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      prevIndexRef.current = selectedIndex ?? activeIndex ?? -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  const setTypingChange = useEventCallback(value => {\n    if (value) {\n      if (!dataRef.current.typing) {\n        dataRef.current.typing = value;\n        onTypingChange(value);\n      }\n    } else if (dataRef.current.typing) {\n      dataRef.current.typing = value;\n      onTypingChange(value);\n    }\n  });\n  const onKeyDown = useEventCallback(event => {\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => text?.toLocaleLowerCase().indexOf(string.toLocaleLowerCase()) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    const listContent = listRef.current;\n    if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n      if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n        setTypingChange(false);\n      } else if (event.key === ' ') {\n        stopEvent(event);\n      }\n    }\n    if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n    // Character key.\n    event.key.length !== 1 ||\n    // Modifier key.\n    event.ctrlKey || event.metaKey || event.altKey) {\n      return;\n    }\n    if (open && event.key !== ' ') {\n      stopEvent(event);\n      setTypingChange(true);\n    }\n\n    // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n    // allow it in this case, too.\n    const allowRapidSuccessionOfFirstLetter = listContent.every(text => text ? text[0]?.toLocaleLowerCase() !== text[1]?.toLocaleLowerCase() : true);\n\n    // Allows the user to cycle through items that start with the same letter\n    // in rapid succession.\n    if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n      stringRef.current = '';\n      prevIndexRef.current = matchIndexRef.current;\n    }\n    stringRef.current += event.key;\n    timeout.start(resetMs, () => {\n      stringRef.current = '';\n      prevIndexRef.current = matchIndexRef.current;\n      setTypingChange(false);\n    });\n    const prevIndex = prevIndexRef.current;\n    const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n    if (index !== -1) {\n      onMatch(index);\n      matchIndexRef.current = index;\n    } else if (event.key !== ' ') {\n      stringRef.current = '';\n      setTypingChange(false);\n    }\n  });\n  const reference = React.useMemo(() => ({\n    onKeyDown\n  }), [onKeyDown]);\n  const floating = React.useMemo(() => {\n    return {\n      onKeyDown,\n      onKeyUp(event) {\n        if (event.key === ' ') {\n          setTypingChange(false);\n        }\n      }\n    };\n  }, [onKeyDown, setTypingChange]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating\n  } : {}, [enabled, reference, floating]);\n}", "import { isElement } from '@floating-ui/utils/dom';\nimport { Timeout } from '@base-ui-components/utils/useTimeout';\nimport { contains, getTarget } from \"./utils/element.js\";\nimport { getNodeChildren } from \"./utils/nodes.js\";\n\n/* eslint-disable no-nested-ternary */\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInsideValue = false;\n  const length = polygon.length;\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInsideValue = !isInsideValue;\n    }\n  }\n  return isInsideValue;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nexport function safePolygon(options = {}) {\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  const timeout = new Timeout();\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = typeof performance !== 'undefined' ? performance.now() : 0;\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = ({\n    x,\n    y,\n    placement,\n    elements,\n    onClose,\n    nodeId,\n    tree\n  }) => {\n    return function onMouseMove(event) {\n      function close() {\n        timeout.clear();\n        onClose();\n      }\n      timeout.clear();\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return undefined;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return undefined;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return undefined;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return undefined;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getNodeChildren(tree.nodesRef.current, nodeId).some(({\n        context\n      }) => context?.open)) {\n        return undefined;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n        default:\n      }\n      function getPolygon([px, py]) {\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? px + buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? px - buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? px + buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py - buffer];\n              const cursorPointTwo = [isFloatingWider ? px - buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [px + buffer + 1, isFloatingTaller ? py + buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const cursorPointTwo = [px + buffer + 1, isFloatingTaller ? py - buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [px - buffer, isFloatingTaller ? py + buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const cursorPointTwo = [px - buffer, isFloatingTaller ? py - buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          default:\n            return [];\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return undefined;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeout.start(40, close);\n      }\n      return undefined;\n    };\n  };\n\n  // eslint-disable-next-line no-underscore-dangle\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}", "'use client';\n\nimport * as ReactDOM from 'react-dom';\nimport { useAnimationFrame } from '@base-ui-components/utils/useAnimationFrame';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\n\n/**\n * Executes a function once all animations have finished on the provided element.\n * @param elementOrRef - The element to watch for animations.\n * @param waitForNextTick - Whether to wait for the next tick before checking for animations.\n */\nexport function useAnimationsFinished(elementOrRef, waitForNextTick = false) {\n  const frame = useAnimationFrame();\n  return useEventCallback((fnToExecute,\n  /**\n   * An optional [AbortSignal](https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal) that\n   * can be used to abort `fnToExecute` before all the animations have finished.\n   * @default null\n   */\n  signal = null) => {\n    frame.cancel();\n    if (elementOrRef == null) {\n      return;\n    }\n    let element;\n    if ('current' in elementOrRef) {\n      if (elementOrRef.current == null) {\n        return;\n      }\n      element = elementOrRef.current;\n    } else {\n      element = elementOrRef;\n    }\n    if (typeof element.getAnimations !== 'function' || globalThis.BASE_UI_ANIMATIONS_DISABLED) {\n      fnToExecute();\n    } else {\n      frame.request(() => {\n        function exec() {\n          if (!element) {\n            return;\n          }\n          Promise.allSettled(element.getAnimations().map(anim => anim.finished)).then(() => {\n            if (signal != null && signal.aborted) {\n              return;\n            }\n            // Synchronously flush the unmounting of the component so that the browser doesn't\n            // paint: https://github.com/mui/base-ui/issues/979\n            ReactDOM.flushSync(fnToExecute);\n          });\n        }\n\n        // `open: true` animations need to wait for the next tick to be detected\n        if (waitForNextTick) {\n          frame.request(exec);\n        } else {\n          exec();\n        }\n      });\n    }\n  });\n}", "export let TransitionStatusDataAttributes = /*#__PURE__*/function (TransitionStatusDataAttributes) {\n  /**\n   * Present when the component is animating in.\n   */\n  TransitionStatusDataAttributes[\"startingStyle\"] = \"data-starting-style\";\n  /**\n   * Present when the component is animating out.\n   */\n  TransitionStatusDataAttributes[\"endingStyle\"] = \"data-ending-style\";\n  return TransitionStatusDataAttributes;\n}({});\nconst STARTING_HOOK = {\n  [TransitionStatusDataAttributes.startingStyle]: ''\n};\nconst ENDING_HOOK = {\n  [TransitionStatusDataAttributes.endingStyle]: ''\n};\nexport const transitionStatusMapping = {\n  transitionStatus(value) {\n    if (value === 'starting') {\n      return STARTING_HOOK;\n    }\n    if (value === 'ending') {\n      return ENDING_HOOK;\n    }\n    return null;\n  }\n};", "'use client';\n\nimport * as React from 'react';\nimport { useEventCallback } from '@base-ui-components/utils/useEventCallback';\nimport { useLatestRef } from '@base-ui-components/utils/useLatestRef';\nimport { useAnimationsFinished } from \"./useAnimationsFinished.js\";\n\n/**\n * Calls the provided function when the CSS open/close animation or transition completes.\n */\nexport function useOpenChangeComplete(parameters) {\n  const {\n    enabled = true,\n    open,\n    ref,\n    onComplete: onCompleteParam\n  } = parameters;\n  const openRef = useLatestRef(open);\n  const onComplete = useEventCallback(onCompleteParam);\n  const runOnceAnimationsFinish = useAnimationsFinished(ref, open);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    runOnceAnimationsFinish(() => {\n      if (open === openRef.current) {\n        onComplete();\n      }\n    });\n  }, [enabled, open, onComplete, runOnceAnimationsFinish, openRef]);\n}"],
  "mappings": "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",
  "names": ["index", "_jsx", "React", "React", "reference", "import_jsx_runtime", "_jsx", "React", "React", "import_jsx_runtime", "FocusGuard", "_jsx", "attr", "React", "import_jsx_runtime", "_jsxs", "_jsx", "import_jsx_runtime", "_a", "_jsxs", "_jsx", "React", "React", "React", "platform", "platform", "placements", "sides", "side", "placement", "overflow", "platform", "x", "y", "min", "max", "offset", "getComputedStyle", "offset", "shift", "flip", "size", "hide", "limitShift", "computePosition", "React", "ReactDOM", "noop", "useLatestRef", "platform", "computePosition", "data", "offset", "shift", "limitShift", "flip", "size", "hide", "_a", "getComputedStyle", "isRTL", "React", "React", "useFloating", "React", "React", "_a", "React", "item", "scheduler", "index", "React", "_a", "React", "index", "ReactDOM", "TransitionStatusDataAttributes", "React"]
}
